{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\src\\\\pages\\\\sessions\\\\Sessions.js\";\nimport React from \"react\";\nimport { BootstrapTable, ButtonGroup, DeleteButton, InsertButton, InsertModalFooter, InsertModalHeader, SearchField, TableHeaderColumn } from \"react-bootstrap-table\";\nimport \"../../../node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css\";\nimport $ from \"jquery\";\nimport Alert from \"react-s-alert\";\nimport DropDownEditor from \"./DropDownEditor\";\nimport { animals, colors, names, uniqueNamesGenerator } from \"unique-names-generator\";\nimport { orderBy } from \"lodash\";\n\nclass Sessions extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    this.createCustomInsertButton = () => {\n      return /*#__PURE__*/React.createElement(InsertButton, {\n        btnText: \"Insert Session\",\n        btnContextual: \"btn-success\",\n        className: \"add-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }\n      });\n    };\n\n    this.createCustomDeleteButton = () => {\n      return /*#__PURE__*/React.createElement(DeleteButton, {\n        btnText: \"Delete Session\",\n        btnContextual: \"btn-danger\",\n        className: \"delete-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }\n      });\n    };\n\n    this.createCustomModalHeader = () => {\n      return /*#__PURE__*/React.createElement(InsertModalHeader, {\n        className: \"modal-header\",\n        title: \"Add Session\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 16\n        }\n      });\n    };\n\n    this.createCustomModalFooter = closeModal => {\n      return /*#__PURE__*/React.createElement(InsertModalFooter, {\n        className: \"modal-footer\",\n        closeBtnContextual: \"btn-light\",\n        saveBtnContextual: \"btn-success\",\n        closeBtnClass: \"modal-close-btn\",\n        saveBtnClass: \"modal-save-btn\",\n        onModalClose: () => this.handleModalClose(closeModal),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }\n      });\n    };\n\n    this.createCustomButtonGroup = props => {\n      return /*#__PURE__*/React.createElement(ButtonGroup, {\n        sizeClass: \"btn-group-md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }\n      }, props.showSelectedOnlyBtn, props.insertBtn, props.deleteBtn, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: `btn btn-info edit-mode-btn`,\n        onClick: () => this.setState({\n          editMode: !this.state.editMode\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 17\n        }\n      }, this.state.editMode ? \"Exit Edit Mode\" : \"Edit Mode\"), this.state.deletedRows.length > 0 ? /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: `btn btn-warning undo-btn`,\n        onClick: this.onUndo.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 21\n        }\n      }, \"Undo Delete\") : null, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: `btn btn-info edit-mode-btn`,\n        onClick: this.generateData.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 17\n        }\n      }, \"Generate Test Data\"));\n    };\n\n    this.createCustomSearchField = () => {\n      return /*#__PURE__*/React.createElement(SearchField, {\n        className: \"search-field\",\n        style: {\n          height: 40,\n          fontSize: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }\n      });\n    };\n\n    this.customRoomField = (column, attr, editorClass, ignoreEditable) => {\n      return /*#__PURE__*/React.createElement(\"select\", Object.assign({\n        className: `${editorClass}`\n      }, attr, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"option\", {\n        key: null,\n        value: null,\n        selected: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 17\n        }\n      }, \"Please Choose a Room...\"), orderBy(this.state.rooms, \"name\").map(room => /*#__PURE__*/React.createElement(\"option\", {\n        key: room[\"name\"],\n        value: room[\"id\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 21\n        }\n      }, room[\"name\"])));\n    };\n\n    this.customSpeakerField = (column, attr, editorClass, ignoreEditable) => {\n      return /*#__PURE__*/React.createElement(\"select\", Object.assign({\n        className: `${editorClass}`\n      }, attr, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"option\", {\n        key: null,\n        value: null,\n        selected: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 17\n        }\n      }, \"Please Choose a Speaker...\"), orderBy(this.state.speakers, \"speakerName\").map(speaker => /*#__PURE__*/React.createElement(\"option\", {\n        key: speaker[\"email\"],\n        value: speaker[\"id\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 21\n        }\n      }, speaker[\"speakerName\"])));\n    };\n\n    this.customTimeSlotField = (column, attr, editorClass, ignoreEditable) => {\n      return /*#__PURE__*/React.createElement(\"select\", Object.assign({\n        className: `${editorClass}`\n      }, attr, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"option\", {\n        key: null,\n        value: null,\n        selected: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 17\n        }\n      }, \"Please Choose a TimeSlot...\"), orderBy(this.state.timeSlots, \"startTime\").map(timeSlot => /*#__PURE__*/React.createElement(\"option\", {\n        key: timeSlot[\"startTime\"] + \" - \" + timeSlot[\"endTime\"],\n        value: timeSlot[\"id\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 21\n        }\n      }, this.dateFormatter(timeSlot[\"startTime\"]) + \" - \" + this.dateFormatter(timeSlot[\"endTime\"]))));\n    };\n\n    this.tableProps = {\n      onAddRow: this.addRowHook.bind(this),\n      onDeleteRow: this.deleteRowHook.bind(this),\n      insertBtn: this.createCustomInsertButton,\n      deleteBtn: this.createCustomDeleteButton,\n      insertModalHeader: this.createCustomModalHeader,\n      insertModalFooter: this.createCustomModalFooter,\n      btnGroup: this.createCustomButtonGroup,\n      searchField: this.createCustomSearchField,\n      clearSearch: true,\n      handleConfirmDeleteRow: this.onConfirmDeleteRow.bind(this)\n    };\n    this.cellEditProps = {\n      mode: \"click\",\n      blurToSave: true,\n      beforeSaveCell: this.beforeSaveHook.bind(this)\n    };\n\n    this.createDropDownEditor = (onUpdate, props) => /*#__PURE__*/React.createElement(DropDownEditor, Object.assign({\n      onUpdate: onUpdate\n    }, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }\n    }));\n\n    this.getData();\n    this.state = {\n      data: [],\n      editMode: false,\n      deletedRows: [],\n      rooms: [],\n      speakers: [],\n      timeSlots: []\n    };\n  }\n\n  getData() {\n    $.ajax({\n      method: \"GET\",\n      url: \"/Session/all\",\n      type: \"json\",\n      contentType: \"application/json\",\n      success: response => {\n        this.setState({\n          data: response\n        });\n      }\n    }).catch(function (xhr, status, error) {\n      Alert.error(\"Unable to load session table data.\", {\n        position: \"top-right\",\n        effect: \"stackslide\",\n        timeout: 2000\n      });\n      this.setState({\n        data: []\n      });\n    });\n    $.ajax({\n      method: \"GET\",\n      url: \"/Room/all\",\n      type: \"json\",\n      contentType: \"application/json\",\n      success: response => {\n        this.setState({\n          rooms: response\n        });\n      }\n    }).catch(function (xhr, status, error) {\n      Alert.error(\"Unable to load room table data.\", {\n        position: \"top-right\",\n        effect: \"stackslide\",\n        timeout: 2000\n      });\n      this.setState({\n        rooms: []\n      });\n    });\n    $.ajax({\n      method: \"GET\",\n      url: \"/Speaker/all\",\n      type: \"json\",\n      contentType: \"application/json\",\n      success: response => {\n        this.setState({\n          speakers: response\n        });\n      }\n    }).catch(function (xhr, status, error) {\n      Alert.error(\"Unable to load speaker table data.\", {\n        position: \"top-right\",\n        effect: \"stackslide\",\n        timeout: 2000\n      });\n      this.setState({\n        speakers: []\n      });\n    });\n    $.ajax({\n      method: \"GET\",\n      url: \"/TimeSlot/all\",\n      type: \"json\",\n      contentType: \"application/json\",\n      success: response => {\n        this.setState({\n          timeSlots: response\n        });\n      }\n    }).catch(function (xhr, status, error) {\n      Alert.error(\"Unable to load time slot table data.\", {\n        position: \"top-right\",\n        effect: \"stackslide\",\n        timeout: 2000\n      });\n      this.setState({\n        timeSlots: []\n      });\n    });\n  }\n\n  addRowHook(row) {\n    // Clear our the id field since the backend will auto generate one for us\n    row.id = null;\n    row.isNew = true;\n    row.room = this.state.rooms.find(room => room[\"id\"] === row.room) || null;\n    row.speaker = this.state.speakers.find(speaker => speaker[\"id\"] === row.speaker) || null;\n    row.timeSlot = this.state.timeSlots.find(timeSlot => timeSlot[\"id\"] === row.timeSlot) || null;\n    this.addRowAjaxCall(row);\n  } // We use this call here when we do not want to delete the row id\n\n\n  addRowAjaxCall(row) {\n    const data = this.state.data;\n    $.ajax({\n      method: \"POST\",\n      url: \"/Session/saveSession\",\n      data: JSON.stringify(row),\n      type: \"json\",\n      contentType: \"application/json\",\n      success: response => {\n        data.push(response);\n        this.setState({\n          data: data\n        });\n        Alert.success(\"Session added.\", {\n          position: \"top-right\",\n          effect: \"stackslide\",\n          timeout: 2000\n        });\n      }\n    }).catch(function (xhr, status, error) {\n      Alert.error(\"Error saving row.\", {\n        position: \"top-right\",\n        effect: \"stackslide\",\n        timeout: 2000\n      });\n    });\n  }\n\n  deleteRowHook(rowIdsToDelete) {\n    const data = this.state.data;\n    const rowsToDelete = data.filter(row => rowIdsToDelete.includes(row.id));\n    const currentDeletedRows = this.state.deletedRows;\n    currentDeletedRows.push(rowsToDelete);\n    this.setState({\n      deletedRows: currentDeletedRows\n    });\n    $.ajax({\n      method: \"POST\",\n      url: \"/Session/deleteSession\",\n      data: JSON.stringify(rowIdsToDelete),\n      type: \"json\",\n      contentType: \"application/json\",\n      success: response => {\n        this.setState({\n          data: data.filter(row => !rowIdsToDelete.includes(row.id))\n        });\n        Alert.success(\"Row(s) deleted.\", {\n          position: \"top-right\",\n          effect: \"stackslide\",\n          timeout: 2000\n        });\n      }\n    }).catch(function (xhr, status, error) {\n      Alert.error(\"Error deleting row(s).\", {\n        position: \"top-right\",\n        effect: \"stackslide\",\n        timeout: 2000\n      });\n    });\n  }\n\n  beforeSaveHook(row, cellName, cellValue, done) {\n    let mockRow = { ...row\n    };\n    mockRow[cellName] = !!cellValue ? cellValue : null; // if nothing changes then void backend call\n\n    if (row[cellName] === mockRow[cellName]) {\n      return true;\n    }\n\n    $.ajax({\n      method: \"POST\",\n      url: \"/Session/saveSession\",\n      data: JSON.stringify(mockRow),\n      type: \"json\",\n      contentType: \"application/json\",\n      success: response => {\n        Alert.success(\"Row updated.\", {\n          position: \"top-right\",\n          effect: \"stackslide\",\n          timeout: 2000\n        });\n        done(true);\n      }\n    }).catch(function (xhr, status, error) {\n      Alert.error(\"Error saving row.\", {\n        position: \"top-right\",\n        effect: \"stackslide\",\n        timeout: 2000\n      });\n      done(false);\n    });\n    return 1;\n  }\n\n  onConfirmDeleteRow(next, dropRowKeys) {\n    next();\n  }\n\n  onUndo() {\n    // When we undo, add back the deleted rows\n    const deletedRows = this.state.deletedRows.pop();\n    deletedRows.forEach(row => this.addRowAjaxCall(row));\n  }\n\n  cannotBeEmptyValidator(value, row) {\n    const response = {\n      isValid: true,\n      notification: {\n        type: \"success\",\n        msg: \"\",\n        title: \"\"\n      }\n    };\n\n    if (!value) {\n      response.isValid = false;\n      response.notification.type = \"error\";\n      response.notification.msg = \"Value must be inserted\";\n      response.notification.title = \"Requested Value\";\n    }\n\n    return response;\n  }\n\n  roomFormatter(value) {\n    return !!value ? value[\"name\"] : \"\";\n  }\n\n  speakerFormatter(value) {\n    return !!value ? value[\"speakerName\"] : \"\";\n  }\n\n  timeSlotFormatter(value) {\n    return !!value ? this.dateFormatter(value[\"startTime\"]) + \" - \" + this.dateFormatter(value[\"endTime\"]) : \"\";\n  }\n\n  dateFormatter(value) {\n    let isAm = true;\n\n    if (!value) {\n      return value;\n    }\n\n    let result = \"\";\n\n    for (let i = 0; i < 5; i++) {\n      result += value[i];\n    }\n\n    if (result.charAt(0) >= 1 && result.charAt(1) >= 3) {\n      let tens = parseInt(result.charAt(0)) * 10;\n      let ones = parseInt(result.charAt(1));\n      let num = tens + ones;\n      let val = num - 20;\n      let str = num.toString();\n      isAm = false;\n    }\n\n    if (isAm) {\n      result += \" AM\";\n\n      if (result.charAt(0) == 0) {\n        result = result.substring(1);\n      }\n    } else {\n      result += \" PM\";\n      result = result.substring(1);\n      result = result.charAt(0) - 2 + result.substring(1);\n    }\n\n    return result;\n  }\n\n  handleModalClose(closeModal) {\n    closeModal();\n  }\n\n  generateData() {\n    for (let i = 0; i < 10; i++) {\n      this.addRowHook({\n        sessionTitle: uniqueNamesGenerator({\n          dictionaries: [names, colors, animals],\n          length: 1\n        }),\n        room: this.state.rooms[Math.floor(Math.random() * Math.floor(this.state.rooms.length))][\"id\"],\n        speaker: this.state.speakers[Math.floor(Math.random() * Math.floor(this.state.speakers.length))][\"id\"],\n        timeSlot: this.state.timeSlots[Math.floor(Math.random() * Math.floor(this.state.timeSlots.length))][\"id\"]\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 25\n      }\n    }, \"Sessions\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BootstrapTable, {\n      hover: true,\n      condensed: true,\n      data: this.state.data,\n      search: true,\n      version: \"4\",\n      insertRow: true,\n      deleteRow: true,\n      selectRow: {\n        mode: \"checkbox\"\n      },\n      options: this.tableProps,\n      cellEdit: this.state.editMode ? this.cellEditProps : {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      hidden: true,\n      hiddenOninsert: true,\n      autoValue: true,\n      isKey: true,\n      dataField: \"id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 25\n      }\n    }, \"id\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      dataField: \"sessionTitle\",\n      editable: {\n        validator: this.cannotBeEmptyValidator\n      },\n      dataSort: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 25\n      }\n    }, \"Session Title\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      dataField: \"room\",\n      dataFormat: this.roomFormatter,\n      editable: {\n        type: \"select\",\n        options: {\n          values: this.state.rooms\n        }\n      },\n      customEditor: {\n        getElement: this.createDropDownEditor,\n        customEditorParameters: {\n          data: orderBy(this.state.rooms, \"name\"),\n          getDisplayName: room => room[\"name\"]\n        }\n      },\n      customInsertEditor: {\n        getElement: this.customRoomField\n      },\n      dataSort: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 25\n      }\n    }, \"Room\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      dataField: \"speaker\",\n      dataFormat: this.speakerFormatter,\n      editable: {\n        type: \"select\",\n        options: {\n          values: this.state.speakers\n        }\n      },\n      customEditor: {\n        getElement: this.createDropDownEditor,\n        customEditorParameters: {\n          data: orderBy(this.state.speakers, \"speakerName\"),\n          getDisplayName: speaker => speaker[\"speakerName\"]\n        }\n      },\n      customInsertEditor: {\n        getElement: this.customSpeakerField\n      },\n      dataSort: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 25\n      }\n    }, \"Speaker\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n      dataField: \"timeSlot\",\n      dataFormat: this.timeSlotFormatter.bind(this),\n      customEditor: {\n        getElement: this.createDropDownEditor,\n        customEditorParameters: {\n          data: orderBy(this.state.timeSlots, \"startTime\"),\n          getDisplayName: timeSlot => this.dateFormatter(timeSlot[\"startTime\"]) + \" - \" + this.dateFormatter(timeSlot[\"endTime\"])\n        }\n      },\n      customInsertEditor: {\n        getElement: this.customTimeSlotField\n      },\n      dataSort: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 25\n      }\n    }, \"Time Slot\"))));\n  }\n\n}\n\nexport default Sessions;","map":{"version":3,"sources":["C:/Users/wangm1/comp4960-section1-black-team/comp4960-section1-black-team/src/client/src/pages/sessions/Sessions.js"],"names":["React","BootstrapTable","ButtonGroup","DeleteButton","InsertButton","InsertModalFooter","InsertModalHeader","SearchField","TableHeaderColumn","$","Alert","DropDownEditor","animals","colors","names","uniqueNamesGenerator","orderBy","Sessions","Component","constructor","props","createCustomInsertButton","createCustomDeleteButton","createCustomModalHeader","createCustomModalFooter","closeModal","handleModalClose","createCustomButtonGroup","showSelectedOnlyBtn","insertBtn","deleteBtn","setState","editMode","state","deletedRows","length","onUndo","bind","generateData","createCustomSearchField","height","fontSize","customRoomField","column","attr","editorClass","ignoreEditable","rooms","map","room","customSpeakerField","speakers","speaker","customTimeSlotField","timeSlots","timeSlot","dateFormatter","tableProps","onAddRow","addRowHook","onDeleteRow","deleteRowHook","insertModalHeader","insertModalFooter","btnGroup","searchField","clearSearch","handleConfirmDeleteRow","onConfirmDeleteRow","cellEditProps","mode","blurToSave","beforeSaveCell","beforeSaveHook","createDropDownEditor","onUpdate","getData","data","ajax","method","url","type","contentType","success","response","catch","xhr","status","error","position","effect","timeout","row","id","isNew","find","addRowAjaxCall","JSON","stringify","push","rowIdsToDelete","rowsToDelete","filter","includes","currentDeletedRows","cellName","cellValue","done","mockRow","next","dropRowKeys","pop","forEach","cannotBeEmptyValidator","value","isValid","notification","msg","title","roomFormatter","speakerFormatter","timeSlotFormatter","isAm","result","i","charAt","tens","parseInt","ones","num","val","str","toString","substring","sessionTitle","dictionaries","Math","floor","random","render","validator","options","values","getElement","customEditorParameters","getDisplayName"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,cADJ,EAEIC,WAFJ,EAGIC,YAHJ,EAIIC,YAJJ,EAKIC,iBALJ,EAMIC,iBANJ,EAOIC,WAPJ,EAQIC,iBARJ,QASO,uBATP;AAUA,OAAO,oFAAP;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAAQC,OAAR,EAAiBC,MAAjB,EAAyBC,KAAzB,EAAgCC,oBAAhC,QAA4D,wBAA5D;AACA,SAAQC,OAAR,QAAsB,QAAtB;;AAEA,MAAMC,QAAN,SAAuBjB,KAAK,CAACkB,SAA7B,CAAuC;AACnCC,EAAAA,WAAW,CAACC,MAAD,EAAQ;AACf,UAAMA,MAAN;;AADe,SAmSnBC,wBAnSmB,GAmSQ,MAAM;AAC7B,0BACI,oBAAC,YAAD;AACI,QAAA,OAAO,EAAC,gBADZ;AAEI,QAAA,aAAa,EAAC,aAFlB;AAGI,QAAA,SAAS,EAAC,SAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAOH,KA3SkB;;AAAA,SA6SnBC,wBA7SmB,GA6SQ,MAAM;AAC7B,0BACI,oBAAC,YAAD;AACI,QAAA,OAAO,EAAC,gBADZ;AAEI,QAAA,aAAa,EAAC,YAFlB;AAGI,QAAA,SAAS,EAAC,YAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAOH,KArTkB;;AAAA,SAuTnBC,uBAvTmB,GAuTO,MAAM;AAC5B,0BAAO,oBAAC,iBAAD;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,KAAK,EAAC,aAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAzTkB;;AAAA,SA+TnBC,uBA/TmB,GA+TQC,UAAD,IAAgB;AACtC,0BACI,oBAAC,iBAAD;AACI,QAAA,SAAS,EAAC,cADd;AAEI,QAAA,kBAAkB,EAAC,WAFvB;AAGI,QAAA,iBAAiB,EAAC,aAHtB;AAII,QAAA,aAAa,EAAC,iBAJlB;AAKI,QAAA,YAAY,EAAC,gBALjB;AAMI,QAAA,YAAY,EAAE,MAAM,KAAKC,gBAAL,CAAsBD,UAAtB,CANxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAUH,KA1UkB;;AAAA,SA4UnBE,uBA5UmB,GA4UQP,KAAD,IAAW;AACjC,0BACI,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAC,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKA,KAAK,CAACQ,mBADX,EAEKR,KAAK,CAACS,SAFX,EAGKT,KAAK,CAACU,SAHX,eAII;AACI,QAAA,IAAI,EAAC,QADT;AAEI,QAAA,SAAS,EAAG,4BAFhB;AAGI,QAAA,OAAO,EAAE,MAAM,KAAKC,QAAL,CAAc;AAACC,UAAAA,QAAQ,EAAE,CAAC,KAAKC,KAAL,CAAWD;AAAvB,SAAd,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKK,KAAKC,KAAL,CAAWD,QAAX,GAAsB,gBAAtB,GAAyC,WAL9C,CAJJ,EAWK,KAAKC,KAAL,CAAWC,WAAX,CAAuBC,MAAvB,GAAgC,CAAhC,gBACG;AACI,QAAA,IAAI,EAAC,QADT;AAEI,QAAA,SAAS,EAAG,0BAFhB;AAGI,QAAA,OAAO,EAAE,KAAKC,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADH,GAQG,IAnBR,eAoBI;AACI,QAAA,IAAI,EAAC,QADT;AAEI,QAAA,SAAS,EAAG,4BAFhB;AAGI,QAAA,OAAO,EAAE,KAAKC,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BApBJ,CADJ;AA8BH,KA3WkB;;AAAA,SAiYnBE,uBAjYmB,GAiYO,MAAM;AAC5B,0BACI,oBAAC,WAAD;AACI,QAAA,SAAS,EAAC,cADd;AAEI,QAAA,KAAK,EAAE;AAACC,UAAAA,MAAM,EAAE,EAAT;AAAaC,UAAAA,QAAQ,EAAE;AAAvB,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAMH,KAxYkB;;AAAA,SA0YnBC,eA1YmB,GA0YD,CAACC,MAAD,EAASC,IAAT,EAAeC,WAAf,EAA4BC,cAA5B,KAA+C;AAC7D,0BACI;AAAQ,QAAA,SAAS,EAAG,GAAED,WAAY;AAAlC,SAAyCD,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACI;AAAQ,QAAA,GAAG,EAAE,IAAb;AAAmB,QAAA,KAAK,EAAE,IAA1B;AAAgC,QAAA,QAAQ,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADJ,EAIK5B,OAAO,CAAC,KAAKiB,KAAL,CAAWc,KAAZ,EAAmB,MAAnB,CAAP,CAAkCC,GAAlC,CAAuCC,IAAD,iBACnC;AAAQ,QAAA,GAAG,EAAEA,IAAI,CAAC,MAAD,CAAjB;AAA2B,QAAA,KAAK,EAAEA,IAAI,CAAC,IAAD,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKA,IAAI,CAAC,MAAD,CADT,CADH,CAJL,CADJ;AAYH,KAvZkB;;AAAA,SAyZnBC,kBAzZmB,GAyZE,CAACP,MAAD,EAASC,IAAT,EAAeC,WAAf,EAA4BC,cAA5B,KAA+C;AAChE,0BACI;AAAQ,QAAA,SAAS,EAAG,GAAED,WAAY;AAAlC,SAAyCD,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACI;AAAQ,QAAA,GAAG,EAAE,IAAb;AAAmB,QAAA,KAAK,EAAE,IAA1B;AAAgC,QAAA,QAAQ,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,EAIK5B,OAAO,CAAC,KAAKiB,KAAL,CAAWkB,QAAZ,EAAsB,aAAtB,CAAP,CAA4CH,GAA5C,CAAiDI,OAAD,iBAC7C;AAAQ,QAAA,GAAG,EAAEA,OAAO,CAAC,OAAD,CAApB;AAA+B,QAAA,KAAK,EAAEA,OAAO,CAAC,IAAD,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKA,OAAO,CAAC,aAAD,CADZ,CADH,CAJL,CADJ;AAYH,KAtakB;;AAAA,SAwanBC,mBAxamB,GAwaG,CAACV,MAAD,EAASC,IAAT,EAAeC,WAAf,EAA4BC,cAA5B,KAA+C;AACjE,0BACI;AAAQ,QAAA,SAAS,EAAG,GAAED,WAAY;AAAlC,SAAyCD,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACI;AAAQ,QAAA,GAAG,EAAE,IAAb;AAAmB,QAAA,KAAK,EAAE,IAA1B;AAAgC,QAAA,QAAQ,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADJ,EAIK5B,OAAO,CAAC,KAAKiB,KAAL,CAAWqB,SAAZ,EAAuB,WAAvB,CAAP,CAA2CN,GAA3C,CAAgDO,QAAD,iBAC5C;AACI,QAAA,GAAG,EAAEA,QAAQ,CAAC,WAAD,CAAR,GAAwB,KAAxB,GAAgCA,QAAQ,CAAC,SAAD,CADjD;AAEI,QAAA,KAAK,EAAEA,QAAQ,CAAC,IAAD,CAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIK,KAAKC,aAAL,CAAmBD,QAAQ,CAAC,WAAD,CAA3B,IACD,KADC,GAED,KAAKC,aAAL,CAAmBD,QAAQ,CAAC,SAAD,CAA3B,CANJ,CADH,CAJL,CADJ;AAiBH,KA1bkB;;AAAA,SA4bnBE,UA5bmB,GA4bN;AACTC,MAAAA,QAAQ,EAAE,KAAKC,UAAL,CAAgBtB,IAAhB,CAAqB,IAArB,CADD;AAETuB,MAAAA,WAAW,EAAE,KAAKC,aAAL,CAAmBxB,IAAnB,CAAwB,IAAxB,CAFJ;AAGTR,MAAAA,SAAS,EAAE,KAAKR,wBAHP;AAITS,MAAAA,SAAS,EAAE,KAAKR,wBAJP;AAKTwC,MAAAA,iBAAiB,EAAE,KAAKvC,uBALf;AAMTwC,MAAAA,iBAAiB,EAAE,KAAKvC,uBANf;AAOTwC,MAAAA,QAAQ,EAAE,KAAKrC,uBAPN;AAQTsC,MAAAA,WAAW,EAAE,KAAK1B,uBART;AAST2B,MAAAA,WAAW,EAAE,IATJ;AAUTC,MAAAA,sBAAsB,EAAE,KAAKC,kBAAL,CAAwB/B,IAAxB,CAA6B,IAA7B;AAVf,KA5bM;AAAA,SAycnBgC,aAzcmB,GAycH;AACZC,MAAAA,IAAI,EAAE,OADM;AAEZC,MAAAA,UAAU,EAAE,IAFA;AAGZC,MAAAA,cAAc,EAAE,KAAKC,cAAL,CAAoBpC,IAApB,CAAyB,IAAzB;AAHJ,KAzcG;;AAAA,SA+cnBqC,oBA/cmB,GA+cI,CAACC,QAAD,EAAWvD,KAAX,kBACnB,oBAAC,cAAD;AAAgB,MAAA,QAAQ,EAAEuD;AAA1B,OAAwCvD,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAhde;;AAEf,SAAKwD,OAAL;AACA,SAAK3C,KAAL,GAAa;AACT4C,MAAAA,IAAI,EAAE,EADG;AAET7C,MAAAA,QAAQ,EAAE,KAFD;AAGTE,MAAAA,WAAW,EAAE,EAHJ;AAITa,MAAAA,KAAK,EAAE,EAJE;AAKTI,MAAAA,QAAQ,EAAE,EALD;AAMTG,MAAAA,SAAS,EAAE;AANF,KAAb;AAQH;;AAEDsB,EAAAA,OAAO,GAAG;AACNnE,IAAAA,CAAC,CAACqE,IAAF,CAAO;AACHC,MAAAA,MAAM,EAAE,KADL;AAEHC,MAAAA,GAAG,EAAE,cAFF;AAGHC,MAAAA,IAAI,EAAE,MAHH;AAIHC,MAAAA,WAAW,EAAE,kBAJV;AAKHC,MAAAA,OAAO,EAAGC,QAAD,IAAc;AACnB,aAAKrD,QAAL,CAAc;AACV8C,UAAAA,IAAI,EAAEO;AADI,SAAd;AAGH;AATE,KAAP,EAUGC,KAVH,CAUS,UAAUC,GAAV,EAAeC,MAAf,EAAuBC,KAAvB,EAA8B;AACnC9E,MAAAA,KAAK,CAAC8E,KAAN,CAAY,oCAAZ,EAAkD;AAC9CC,QAAAA,QAAQ,EAAE,WADoC;AAE9CC,QAAAA,MAAM,EAAE,YAFsC;AAG9CC,QAAAA,OAAO,EAAE;AAHqC,OAAlD;AAMA,WAAK5D,QAAL,CAAc;AACV8C,QAAAA,IAAI,EAAE;AADI,OAAd;AAGH,KApBD;AAqBApE,IAAAA,CAAC,CAACqE,IAAF,CAAO;AACHC,MAAAA,MAAM,EAAE,KADL;AAEHC,MAAAA,GAAG,EAAE,WAFF;AAGHC,MAAAA,IAAI,EAAE,MAHH;AAIHC,MAAAA,WAAW,EAAE,kBAJV;AAKHC,MAAAA,OAAO,EAAGC,QAAD,IAAc;AACnB,aAAKrD,QAAL,CAAc;AACVgB,UAAAA,KAAK,EAAEqC;AADG,SAAd;AAGH;AATE,KAAP,EAUGC,KAVH,CAUS,UAAUC,GAAV,EAAeC,MAAf,EAAuBC,KAAvB,EAA8B;AACnC9E,MAAAA,KAAK,CAAC8E,KAAN,CAAY,iCAAZ,EAA+C;AAC3CC,QAAAA,QAAQ,EAAE,WADiC;AAE3CC,QAAAA,MAAM,EAAE,YAFmC;AAG3CC,QAAAA,OAAO,EAAE;AAHkC,OAA/C;AAMA,WAAK5D,QAAL,CAAc;AACVgB,QAAAA,KAAK,EAAE;AADG,OAAd;AAGH,KApBD;AAqBAtC,IAAAA,CAAC,CAACqE,IAAF,CAAO;AACHC,MAAAA,MAAM,EAAE,KADL;AAEHC,MAAAA,GAAG,EAAE,cAFF;AAGHC,MAAAA,IAAI,EAAE,MAHH;AAIHC,MAAAA,WAAW,EAAE,kBAJV;AAKHC,MAAAA,OAAO,EAAGC,QAAD,IAAc;AACnB,aAAKrD,QAAL,CAAc;AACVoB,UAAAA,QAAQ,EAAEiC;AADA,SAAd;AAGH;AATE,KAAP,EAUGC,KAVH,CAUS,UAAUC,GAAV,EAAeC,MAAf,EAAuBC,KAAvB,EAA8B;AACnC9E,MAAAA,KAAK,CAAC8E,KAAN,CAAY,oCAAZ,EAAkD;AAC9CC,QAAAA,QAAQ,EAAE,WADoC;AAE9CC,QAAAA,MAAM,EAAE,YAFsC;AAG9CC,QAAAA,OAAO,EAAE;AAHqC,OAAlD;AAMA,WAAK5D,QAAL,CAAc;AACVoB,QAAAA,QAAQ,EAAE;AADA,OAAd;AAGH,KApBD;AAqBA1C,IAAAA,CAAC,CAACqE,IAAF,CAAO;AACHC,MAAAA,MAAM,EAAE,KADL;AAEHC,MAAAA,GAAG,EAAE,eAFF;AAGHC,MAAAA,IAAI,EAAE,MAHH;AAIHC,MAAAA,WAAW,EAAE,kBAJV;AAKHC,MAAAA,OAAO,EAAGC,QAAD,IAAc;AACnB,aAAKrD,QAAL,CAAc;AACVuB,UAAAA,SAAS,EAAE8B;AADD,SAAd;AAGH;AATE,KAAP,EAUGC,KAVH,CAUS,UAAUC,GAAV,EAAeC,MAAf,EAAuBC,KAAvB,EAA8B;AACnC9E,MAAAA,KAAK,CAAC8E,KAAN,CAAY,sCAAZ,EAAoD;AAChDC,QAAAA,QAAQ,EAAE,WADsC;AAEhDC,QAAAA,MAAM,EAAE,YAFwC;AAGhDC,QAAAA,OAAO,EAAE;AAHuC,OAApD;AAMA,WAAK5D,QAAL,CAAc;AACVuB,QAAAA,SAAS,EAAE;AADD,OAAd;AAGH,KApBD;AAqBH;;AAEDK,EAAAA,UAAU,CAACiC,GAAD,EAAM;AACZ;AACAA,IAAAA,GAAG,CAACC,EAAJ,GAAS,IAAT;AACAD,IAAAA,GAAG,CAACE,KAAJ,GAAY,IAAZ;AAEAF,IAAAA,GAAG,CAAC3C,IAAJ,GAAW,KAAKhB,KAAL,CAAWc,KAAX,CAAiBgD,IAAjB,CAAuB9C,IAAD,IAAUA,IAAI,CAAC,IAAD,CAAJ,KAAe2C,GAAG,CAAC3C,IAAnD,KAA4D,IAAvE;AACA2C,IAAAA,GAAG,CAACxC,OAAJ,GACI,KAAKnB,KAAL,CAAWkB,QAAX,CAAoB4C,IAApB,CAA0B3C,OAAD,IAAaA,OAAO,CAAC,IAAD,CAAP,KAAkBwC,GAAG,CAACxC,OAA5D,KACA,IAFJ;AAGAwC,IAAAA,GAAG,CAACrC,QAAJ,GACI,KAAKtB,KAAL,CAAWqB,SAAX,CAAqByC,IAArB,CACKxC,QAAD,IAAcA,QAAQ,CAAC,IAAD,CAAR,KAAmBqC,GAAG,CAACrC,QADzC,KAEK,IAHT;AAKA,SAAKyC,cAAL,CAAoBJ,GAApB;AACH,GApHkC,CAsHnC;;;AACAI,EAAAA,cAAc,CAACJ,GAAD,EAAM;AAChB,UAAMf,IAAI,GAAG,KAAK5C,KAAL,CAAW4C,IAAxB;AAEApE,IAAAA,CAAC,CAACqE,IAAF,CAAO;AACHC,MAAAA,MAAM,EAAE,MADL;AAEHC,MAAAA,GAAG,EAAE,sBAFF;AAGHH,MAAAA,IAAI,EAAEoB,IAAI,CAACC,SAAL,CAAeN,GAAf,CAHH;AAIHX,MAAAA,IAAI,EAAE,MAJH;AAKHC,MAAAA,WAAW,EAAE,kBALV;AAMHC,MAAAA,OAAO,EAAGC,QAAD,IAAc;AACnBP,QAAAA,IAAI,CAACsB,IAAL,CAAUf,QAAV;AACA,aAAKrD,QAAL,CAAc;AACV8C,UAAAA,IAAI,EAAEA;AADI,SAAd;AAGAnE,QAAAA,KAAK,CAACyE,OAAN,CAAc,gBAAd,EAAgC;AAC5BM,UAAAA,QAAQ,EAAE,WADkB;AAE5BC,UAAAA,MAAM,EAAE,YAFoB;AAG5BC,UAAAA,OAAO,EAAE;AAHmB,SAAhC;AAKH;AAhBE,KAAP,EAiBGN,KAjBH,CAiBS,UAAUC,GAAV,EAAeC,MAAf,EAAuBC,KAAvB,EAA8B;AACnC9E,MAAAA,KAAK,CAAC8E,KAAN,CAAY,mBAAZ,EAAiC;AAC7BC,QAAAA,QAAQ,EAAE,WADmB;AAE7BC,QAAAA,MAAM,EAAE,YAFqB;AAG7BC,QAAAA,OAAO,EAAE;AAHoB,OAAjC;AAKH,KAvBD;AAwBH;;AAED9B,EAAAA,aAAa,CAACuC,cAAD,EAAiB;AAC1B,UAAMvB,IAAI,GAAG,KAAK5C,KAAL,CAAW4C,IAAxB;AACA,UAAMwB,YAAY,GAAGxB,IAAI,CAACyB,MAAL,CAAaV,GAAD,IAASQ,cAAc,CAACG,QAAf,CAAwBX,GAAG,CAACC,EAA5B,CAArB,CAArB;AAEA,UAAMW,kBAAkB,GAAG,KAAKvE,KAAL,CAAWC,WAAtC;AACAsE,IAAAA,kBAAkB,CAACL,IAAnB,CAAwBE,YAAxB;AAEA,SAAKtE,QAAL,CAAc;AAACG,MAAAA,WAAW,EAAEsE;AAAd,KAAd;AAEA/F,IAAAA,CAAC,CAACqE,IAAF,CAAO;AACHC,MAAAA,MAAM,EAAE,MADL;AAEHC,MAAAA,GAAG,EAAE,wBAFF;AAGHH,MAAAA,IAAI,EAAEoB,IAAI,CAACC,SAAL,CAAeE,cAAf,CAHH;AAIHnB,MAAAA,IAAI,EAAE,MAJH;AAKHC,MAAAA,WAAW,EAAE,kBALV;AAMHC,MAAAA,OAAO,EAAGC,QAAD,IAAc;AACnB,aAAKrD,QAAL,CAAc;AACV8C,UAAAA,IAAI,EAAEA,IAAI,CAACyB,MAAL,CAAaV,GAAD,IAAS,CAACQ,cAAc,CAACG,QAAf,CAAwBX,GAAG,CAACC,EAA5B,CAAtB;AADI,SAAd;AAIAnF,QAAAA,KAAK,CAACyE,OAAN,CAAc,iBAAd,EAAiC;AAC7BM,UAAAA,QAAQ,EAAE,WADmB;AAE7BC,UAAAA,MAAM,EAAE,YAFqB;AAG7BC,UAAAA,OAAO,EAAE;AAHoB,SAAjC;AAKH;AAhBE,KAAP,EAiBGN,KAjBH,CAiBS,UAAUC,GAAV,EAAeC,MAAf,EAAuBC,KAAvB,EAA8B;AACnC9E,MAAAA,KAAK,CAAC8E,KAAN,CAAY,wBAAZ,EAAsC;AAClCC,QAAAA,QAAQ,EAAE,WADwB;AAElCC,QAAAA,MAAM,EAAE,YAF0B;AAGlCC,QAAAA,OAAO,EAAE;AAHyB,OAAtC;AAKH,KAvBD;AAwBH;;AAEDlB,EAAAA,cAAc,CAACmB,GAAD,EAAMa,QAAN,EAAgBC,SAAhB,EAA2BC,IAA3B,EAAiC;AAC3C,QAAIC,OAAO,GAAG,EAAC,GAAGhB;AAAJ,KAAd;AACAgB,IAAAA,OAAO,CAACH,QAAD,CAAP,GAAoB,CAAC,CAACC,SAAF,GAAcA,SAAd,GAA0B,IAA9C,CAF2C,CAI3C;;AACA,QAAId,GAAG,CAACa,QAAD,CAAH,KAAkBG,OAAO,CAACH,QAAD,CAA7B,EAAyC;AACrC,aAAO,IAAP;AACH;;AAEDhG,IAAAA,CAAC,CAACqE,IAAF,CAAO;AACHC,MAAAA,MAAM,EAAE,MADL;AAEHC,MAAAA,GAAG,EAAE,sBAFF;AAGHH,MAAAA,IAAI,EAAEoB,IAAI,CAACC,SAAL,CAAeU,OAAf,CAHH;AAIH3B,MAAAA,IAAI,EAAE,MAJH;AAKHC,MAAAA,WAAW,EAAE,kBALV;AAMHC,MAAAA,OAAO,EAAGC,QAAD,IAAc;AACnB1E,QAAAA,KAAK,CAACyE,OAAN,CAAc,cAAd,EAA8B;AAC1BM,UAAAA,QAAQ,EAAE,WADgB;AAE1BC,UAAAA,MAAM,EAAE,YAFkB;AAG1BC,UAAAA,OAAO,EAAE;AAHiB,SAA9B;AAKAgB,QAAAA,IAAI,CAAC,IAAD,CAAJ;AACH;AAbE,KAAP,EAcGtB,KAdH,CAcS,UAAUC,GAAV,EAAeC,MAAf,EAAuBC,KAAvB,EAA8B;AACnC9E,MAAAA,KAAK,CAAC8E,KAAN,CAAY,mBAAZ,EAAiC;AAC7BC,QAAAA,QAAQ,EAAE,WADmB;AAE7BC,QAAAA,MAAM,EAAE,YAFqB;AAG7BC,QAAAA,OAAO,EAAE;AAHoB,OAAjC;AAKAgB,MAAAA,IAAI,CAAC,KAAD,CAAJ;AACH,KArBD;AAuBA,WAAO,CAAP;AACH;;AAEDvC,EAAAA,kBAAkB,CAACyC,IAAD,EAAOC,WAAP,EAAoB;AAClCD,IAAAA,IAAI;AACP;;AAEDzE,EAAAA,MAAM,GAAG;AACL;AACA,UAAMF,WAAW,GAAG,KAAKD,KAAL,CAAWC,WAAX,CAAuB6E,GAAvB,EAApB;AACA7E,IAAAA,WAAW,CAAC8E,OAAZ,CAAqBpB,GAAD,IAAS,KAAKI,cAAL,CAAoBJ,GAApB,CAA7B;AACH;;AAEDqB,EAAAA,sBAAsB,CAACC,KAAD,EAAQtB,GAAR,EAAa;AAC/B,UAAMR,QAAQ,GAAG;AACb+B,MAAAA,OAAO,EAAE,IADI;AAEbC,MAAAA,YAAY,EAAE;AAACnC,QAAAA,IAAI,EAAE,SAAP;AAAkBoC,QAAAA,GAAG,EAAE,EAAvB;AAA2BC,QAAAA,KAAK,EAAE;AAAlC;AAFD,KAAjB;;AAIA,QAAI,CAACJ,KAAL,EAAY;AACR9B,MAAAA,QAAQ,CAAC+B,OAAT,GAAmB,KAAnB;AACA/B,MAAAA,QAAQ,CAACgC,YAAT,CAAsBnC,IAAtB,GAA6B,OAA7B;AACAG,MAAAA,QAAQ,CAACgC,YAAT,CAAsBC,GAAtB,GAA4B,wBAA5B;AACAjC,MAAAA,QAAQ,CAACgC,YAAT,CAAsBE,KAAtB,GAA8B,iBAA9B;AACH;;AACD,WAAOlC,QAAP;AACH;;AAEDmC,EAAAA,aAAa,CAACL,KAAD,EAAQ;AACjB,WAAO,CAAC,CAACA,KAAF,GAAUA,KAAK,CAAC,MAAD,CAAf,GAA0B,EAAjC;AACH;;AAEDM,EAAAA,gBAAgB,CAACN,KAAD,EAAQ;AACpB,WAAO,CAAC,CAACA,KAAF,GAAUA,KAAK,CAAC,aAAD,CAAf,GAAiC,EAAxC;AACH;;AAEDO,EAAAA,iBAAiB,CAACP,KAAD,EAAQ;AACrB,WAAO,CAAC,CAACA,KAAF,GACD,KAAK1D,aAAL,CAAmB0D,KAAK,CAAC,WAAD,CAAxB,IACF,KADE,GAEF,KAAK1D,aAAL,CAAmB0D,KAAK,CAAC,SAAD,CAAxB,CAHG,GAID,EAJN;AAKH;;AAED1D,EAAAA,aAAa,CAAC0D,KAAD,EAAQ;AACjB,QAAIQ,IAAI,GAAG,IAAX;;AACA,QAAI,CAACR,KAAL,EAAY;AACR,aAAOA,KAAP;AACH;;AAED,QAAIS,MAAM,GAAG,EAAb;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxBD,MAAAA,MAAM,IAAIT,KAAK,CAACU,CAAD,CAAf;AACH;;AAED,QAAID,MAAM,CAACE,MAAP,CAAc,CAAd,KAAoB,CAApB,IAAyBF,MAAM,CAACE,MAAP,CAAc,CAAd,KAAoB,CAAjD,EAAoD;AAChD,UAAIC,IAAI,GAAGC,QAAQ,CAACJ,MAAM,CAACE,MAAP,CAAc,CAAd,CAAD,CAAR,GAA6B,EAAxC;AACA,UAAIG,IAAI,GAAGD,QAAQ,CAACJ,MAAM,CAACE,MAAP,CAAc,CAAd,CAAD,CAAnB;AACA,UAAII,GAAG,GAAGH,IAAI,GAAGE,IAAjB;AACA,UAAIE,GAAG,GAAGD,GAAG,GAAG,EAAhB;AACA,UAAIE,GAAG,GAAGF,GAAG,CAACG,QAAJ,EAAV;AACAV,MAAAA,IAAI,GAAG,KAAP;AACH;;AAED,QAAIA,IAAJ,EAAU;AACNC,MAAAA,MAAM,IAAI,KAAV;;AACA,UAAIA,MAAM,CAACE,MAAP,CAAc,CAAd,KAAoB,CAAxB,EAA2B;AACvBF,QAAAA,MAAM,GAAGA,MAAM,CAACU,SAAP,CAAiB,CAAjB,CAAT;AACH;AACJ,KALD,MAKO;AACHV,MAAAA,MAAM,IAAI,KAAV;AACAA,MAAAA,MAAM,GAAGA,MAAM,CAACU,SAAP,CAAiB,CAAjB,CAAT;AACAV,MAAAA,MAAM,GAAGA,MAAM,CAACE,MAAP,CAAc,CAAd,IAAmB,CAAnB,GAAuBF,MAAM,CAACU,SAAP,CAAiB,CAAjB,CAAhC;AACH;;AAED,WAAOV,MAAP;AACH;;AA0BDjG,EAAAA,gBAAgB,CAACD,UAAD,EAAa;AACzBA,IAAAA,UAAU;AACb;;AAgDDa,EAAAA,YAAY,GAAG;AACX,SAAK,IAAIsF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,WAAKjE,UAAL,CAAgB;AACZ2E,QAAAA,YAAY,EAAEvH,oBAAoB,CAAC;AAC/BwH,UAAAA,YAAY,EAAE,CAACzH,KAAD,EAAQD,MAAR,EAAgBD,OAAhB,CADiB;AAE/BuB,UAAAA,MAAM,EAAE;AAFuB,SAAD,CADtB;AAKZc,QAAAA,IAAI,EAAE,KAAKhB,KAAL,CAAWc,KAAX,CACFyF,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBF,IAAI,CAACC,KAAL,CAAW,KAAKxG,KAAL,CAAWc,KAAX,CAAiBZ,MAA5B,CAA3B,CADE,EAEA,IAFA,CALM;AAQZiB,QAAAA,OAAO,EAAE,KAAKnB,KAAL,CAAWkB,QAAX,CACLqF,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBF,IAAI,CAACC,KAAL,CAAW,KAAKxG,KAAL,CAAWkB,QAAX,CAAoBhB,MAA/B,CAA3B,CADK,EAEH,IAFG,CARG;AAWZoB,QAAAA,QAAQ,EAAE,KAAKtB,KAAL,CAAWqB,SAAX,CACNkF,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBF,IAAI,CAACC,KAAL,CAAW,KAAKxG,KAAL,CAAWqB,SAAX,CAAqBnB,MAAhC,CAA3B,CADM,EAEJ,IAFI;AAXE,OAAhB;AAeH;AACJ;;AAoFDwG,EAAAA,MAAM,GAAG;AACL,wBACI,uDACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CADJ,CADJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,cAAD;AACI,MAAA,KAAK,MADT;AAEI,MAAA,SAAS,MAFb;AAGI,MAAA,IAAI,EAAE,KAAK1G,KAAL,CAAW4C,IAHrB;AAII,MAAA,MAAM,MAJV;AAKI,MAAA,OAAO,EAAC,GALZ;AAMI,MAAA,SAAS,MANb;AAOI,MAAA,SAAS,MAPb;AAQI,MAAA,SAAS,EAAE;AAACP,QAAAA,IAAI,EAAE;AAAP,OARf;AASI,MAAA,OAAO,EAAE,KAAKb,UATlB;AAUI,MAAA,QAAQ,EAAE,KAAKxB,KAAL,CAAWD,QAAX,GAAsB,KAAKqC,aAA3B,GAA2C,EAVzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAYI,oBAAC,iBAAD;AACI,MAAA,MAAM,MADV;AAEI,MAAA,cAAc,MAFlB;AAGI,MAAA,SAAS,MAHb;AAII,MAAA,KAAK,MAJT;AAKI,MAAA,SAAS,EAAC,IALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAZJ,eAqBI,oBAAC,iBAAD;AACI,MAAA,SAAS,EAAC,cADd;AAEI,MAAA,QAAQ,EAAE;AAACuE,QAAAA,SAAS,EAAE,KAAK3B;AAAjB,OAFd;AAGI,MAAA,QAAQ,EAAE,IAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBArBJ,eA4BI,oBAAC,iBAAD;AACI,MAAA,SAAS,EAAC,MADd;AAEI,MAAA,UAAU,EAAE,KAAKM,aAFrB;AAGI,MAAA,QAAQ,EAAE;AACNtC,QAAAA,IAAI,EAAE,QADA;AAEN4D,QAAAA,OAAO,EAAE;AAACC,UAAAA,MAAM,EAAE,KAAK7G,KAAL,CAAWc;AAApB;AAFH,OAHd;AAOI,MAAA,YAAY,EAAE;AACVgG,QAAAA,UAAU,EAAE,KAAKrE,oBADP;AAEVsE,QAAAA,sBAAsB,EAAE;AACpBnE,UAAAA,IAAI,EAAE7D,OAAO,CAAC,KAAKiB,KAAL,CAAWc,KAAZ,EAAmB,MAAnB,CADO;AAEpBkG,UAAAA,cAAc,EAAGhG,IAAD,IAAUA,IAAI,CAAC,MAAD;AAFV;AAFd,OAPlB;AAcI,MAAA,kBAAkB,EAAE;AAAC8F,QAAAA,UAAU,EAAE,KAAKrG;AAAlB,OAdxB;AAeI,MAAA,QAAQ,EAAE,IAfd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA5BJ,eA+CI,oBAAC,iBAAD;AACI,MAAA,SAAS,EAAC,SADd;AAEI,MAAA,UAAU,EAAE,KAAK8E,gBAFrB;AAGI,MAAA,QAAQ,EAAE;AACNvC,QAAAA,IAAI,EAAE,QADA;AAEN4D,QAAAA,OAAO,EAAE;AAACC,UAAAA,MAAM,EAAE,KAAK7G,KAAL,CAAWkB;AAApB;AAFH,OAHd;AAOI,MAAA,YAAY,EAAE;AACV4F,QAAAA,UAAU,EAAE,KAAKrE,oBADP;AAEVsE,QAAAA,sBAAsB,EAAE;AACpBnE,UAAAA,IAAI,EAAE7D,OAAO,CAAC,KAAKiB,KAAL,CAAWkB,QAAZ,EAAsB,aAAtB,CADO;AAEpB8F,UAAAA,cAAc,EAAG7F,OAAD,IAAaA,OAAO,CAAC,aAAD;AAFhB;AAFd,OAPlB;AAcI,MAAA,kBAAkB,EAAE;AAAC2F,QAAAA,UAAU,EAAE,KAAK7F;AAAlB,OAdxB;AAeI,MAAA,QAAQ,EAAE,IAfd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA/CJ,eAkEI,oBAAC,iBAAD;AACI,MAAA,SAAS,EAAC,UADd;AAEI,MAAA,UAAU,EAAE,KAAKuE,iBAAL,CAAuBpF,IAAvB,CAA4B,IAA5B,CAFhB;AAGI,MAAA,YAAY,EAAE;AACV0G,QAAAA,UAAU,EAAE,KAAKrE,oBADP;AAEVsE,QAAAA,sBAAsB,EAAE;AACpBnE,UAAAA,IAAI,EAAE7D,OAAO,CAAC,KAAKiB,KAAL,CAAWqB,SAAZ,EAAuB,WAAvB,CADO;AAEpB2F,UAAAA,cAAc,EAAG1F,QAAD,IACZ,KAAKC,aAAL,CAAmBD,QAAQ,CAAC,WAAD,CAA3B,IACA,KADA,GAEA,KAAKC,aAAL,CAAmBD,QAAQ,CAAC,SAAD,CAA3B;AALgB;AAFd,OAHlB;AAaI,MAAA,kBAAkB,EAAE;AAACwF,QAAAA,UAAU,EAAE,KAAK1F;AAAlB,OAbxB;AAcI,MAAA,QAAQ,EAAE,IAdd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAlEJ,CADJ,CANJ,CADJ;AAgGH;;AArjBkC;;AAwjBvC,eAAepC,QAAf","sourcesContent":["import React from \"react\";\r\nimport {\r\n    BootstrapTable,\r\n    ButtonGroup,\r\n    DeleteButton,\r\n    InsertButton,\r\n    InsertModalFooter,\r\n    InsertModalHeader,\r\n    SearchField,\r\n    TableHeaderColumn,\r\n} from \"react-bootstrap-table\";\r\nimport \"../../../node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css\";\r\nimport $ from \"jquery\";\r\nimport Alert from \"react-s-alert\";\r\nimport DropDownEditor from \"./DropDownEditor\";\r\nimport {animals, colors, names, uniqueNamesGenerator,} from \"unique-names-generator\";\r\nimport {orderBy} from \"lodash\";\r\n\r\nclass Sessions extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getData();\r\n        this.state = {\r\n            data: [],\r\n            editMode: false,\r\n            deletedRows: [],\r\n            rooms: [],\r\n            speakers: [],\r\n            timeSlots: [],\r\n        };\r\n    }\r\n\r\n    getData() {\r\n        $.ajax({\r\n            method: \"GET\",\r\n            url: \"/Session/all\",\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    data: response,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Unable to load session table data.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n\r\n            this.setState({\r\n                data: [],\r\n            });\r\n        });\r\n        $.ajax({\r\n            method: \"GET\",\r\n            url: \"/Room/all\",\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    rooms: response,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Unable to load room table data.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n\r\n            this.setState({\r\n                rooms: [],\r\n            });\r\n        });\r\n        $.ajax({\r\n            method: \"GET\",\r\n            url: \"/Speaker/all\",\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    speakers: response,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Unable to load speaker table data.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n\r\n            this.setState({\r\n                speakers: [],\r\n            });\r\n        });\r\n        $.ajax({\r\n            method: \"GET\",\r\n            url: \"/TimeSlot/all\",\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    timeSlots: response,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Unable to load time slot table data.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n\r\n            this.setState({\r\n                timeSlots: [],\r\n            });\r\n        });\r\n    }\r\n\r\n    addRowHook(row) {\r\n        // Clear our the id field since the backend will auto generate one for us\r\n        row.id = null;\r\n        row.isNew = true;\r\n\r\n        row.room = this.state.rooms.find((room) => room[\"id\"] === row.room) || null;\r\n        row.speaker =\r\n            this.state.speakers.find((speaker) => speaker[\"id\"] === row.speaker) ||\r\n            null;\r\n        row.timeSlot =\r\n            this.state.timeSlots.find(\r\n                (timeSlot) => timeSlot[\"id\"] === row.timeSlot\r\n            ) || null;\r\n\r\n        this.addRowAjaxCall(row);\r\n    }\r\n\r\n    // We use this call here when we do not want to delete the row id\r\n    addRowAjaxCall(row) {\r\n        const data = this.state.data;\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/Session/saveSession\",\r\n            data: JSON.stringify(row),\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                data.push(response);\r\n                this.setState({\r\n                    data: data,\r\n                });\r\n                Alert.success(\"Session added.\", {\r\n                    position: \"top-right\",\r\n                    effect: \"stackslide\",\r\n                    timeout: 2000,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Error saving row.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n        });\r\n    }\r\n\r\n    deleteRowHook(rowIdsToDelete) {\r\n        const data = this.state.data;\r\n        const rowsToDelete = data.filter((row) => rowIdsToDelete.includes(row.id));\r\n\r\n        const currentDeletedRows = this.state.deletedRows;\r\n        currentDeletedRows.push(rowsToDelete);\r\n\r\n        this.setState({deletedRows: currentDeletedRows});\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/Session/deleteSession\",\r\n            data: JSON.stringify(rowIdsToDelete),\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    data: data.filter((row) => !rowIdsToDelete.includes(row.id)),\r\n                });\r\n\r\n                Alert.success(\"Row(s) deleted.\", {\r\n                    position: \"top-right\",\r\n                    effect: \"stackslide\",\r\n                    timeout: 2000,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Error deleting row(s).\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n        });\r\n    }\r\n\r\n    beforeSaveHook(row, cellName, cellValue, done) {\r\n        let mockRow = {...row};\r\n        mockRow[cellName] = !!cellValue ? cellValue : null;\r\n\r\n        // if nothing changes then void backend call\r\n        if (row[cellName] === mockRow[cellName]) {\r\n            return true;\r\n        }\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/Session/saveSession\",\r\n            data: JSON.stringify(mockRow),\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                Alert.success(\"Row updated.\", {\r\n                    position: \"top-right\",\r\n                    effect: \"stackslide\",\r\n                    timeout: 2000,\r\n                });\r\n                done(true);\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Error saving row.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n            done(false);\r\n        });\r\n\r\n        return 1;\r\n    }\r\n\r\n    onConfirmDeleteRow(next, dropRowKeys) {\r\n        next();\r\n    }\r\n\r\n    onUndo() {\r\n        // When we undo, add back the deleted rows\r\n        const deletedRows = this.state.deletedRows.pop();\r\n        deletedRows.forEach((row) => this.addRowAjaxCall(row));\r\n    }\r\n\r\n    cannotBeEmptyValidator(value, row) {\r\n        const response = {\r\n            isValid: true,\r\n            notification: {type: \"success\", msg: \"\", title: \"\"},\r\n        };\r\n        if (!value) {\r\n            response.isValid = false;\r\n            response.notification.type = \"error\";\r\n            response.notification.msg = \"Value must be inserted\";\r\n            response.notification.title = \"Requested Value\";\r\n        }\r\n        return response;\r\n    }\r\n\r\n    roomFormatter(value) {\r\n        return !!value ? value[\"name\"] : \"\";\r\n    }\r\n\r\n    speakerFormatter(value) {\r\n        return !!value ? value[\"speakerName\"] : \"\";\r\n    }\r\n\r\n    timeSlotFormatter(value) {\r\n        return !!value\r\n            ? this.dateFormatter(value[\"startTime\"]) +\r\n            \" - \" +\r\n            this.dateFormatter(value[\"endTime\"])\r\n            : \"\";\r\n    }\r\n\r\n    dateFormatter(value) {\r\n        let isAm = true;\r\n        if (!value) {\r\n            return value;\r\n        }\r\n\r\n        let result = \"\";\r\n        for (let i = 0; i < 5; i++) {\r\n            result += value[i];\r\n        }\r\n\r\n        if (result.charAt(0) >= 1 && result.charAt(1) >= 3) {\r\n            let tens = parseInt(result.charAt(0)) * 10;\r\n            let ones = parseInt(result.charAt(1));\r\n            let num = tens + ones;\r\n            let val = num - 20;\r\n            let str = num.toString();\r\n            isAm = false;\r\n        }\r\n\r\n        if (isAm) {\r\n            result += \" AM\";\r\n            if (result.charAt(0) == 0) {\r\n                result = result.substring(1);\r\n            }\r\n        } else {\r\n            result += \" PM\";\r\n            result = result.substring(1);\r\n            result = result.charAt(0) - 2 + result.substring(1);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    createCustomInsertButton = () => {\r\n        return (\r\n            <InsertButton\r\n                btnText=\"Insert Session\"\r\n                btnContextual=\"btn-success\"\r\n                className=\"add-btn\"\r\n            />\r\n        );\r\n    };\r\n\r\n    createCustomDeleteButton = () => {\r\n        return (\r\n            <DeleteButton\r\n                btnText=\"Delete Session\"\r\n                btnContextual=\"btn-danger\"\r\n                className=\"delete-btn\"\r\n            />\r\n        );\r\n    };\r\n\r\n    createCustomModalHeader = () => {\r\n        return <InsertModalHeader className=\"modal-header\" title=\"Add Session\"/>;\r\n    };\r\n\r\n    handleModalClose(closeModal) {\r\n        closeModal();\r\n    }\r\n\r\n    createCustomModalFooter = (closeModal) => {\r\n        return (\r\n            <InsertModalFooter\r\n                className=\"modal-footer\"\r\n                closeBtnContextual=\"btn-light\"\r\n                saveBtnContextual=\"btn-success\"\r\n                closeBtnClass=\"modal-close-btn\"\r\n                saveBtnClass=\"modal-save-btn\"\r\n                onModalClose={() => this.handleModalClose(closeModal)}\r\n            />\r\n        );\r\n    };\r\n\r\n    createCustomButtonGroup = (props) => {\r\n        return (\r\n            <ButtonGroup sizeClass=\"btn-group-md\">\r\n                {props.showSelectedOnlyBtn}\r\n                {props.insertBtn}\r\n                {props.deleteBtn}\r\n                <button\r\n                    type=\"button\"\r\n                    className={`btn btn-info edit-mode-btn`}\r\n                    onClick={() => this.setState({editMode: !this.state.editMode})}\r\n                >\r\n                    {this.state.editMode ? \"Exit Edit Mode\" : \"Edit Mode\"}\r\n                </button>\r\n                {this.state.deletedRows.length > 0 ? (\r\n                    <button\r\n                        type=\"button\"\r\n                        className={`btn btn-warning undo-btn`}\r\n                        onClick={this.onUndo.bind(this)}\r\n                    >\r\n                        Undo Delete\r\n                    </button>\r\n                ) : null}\r\n                <button\r\n                    type=\"button\"\r\n                    className={`btn btn-info edit-mode-btn`}\r\n                    onClick={this.generateData.bind(this)}\r\n                >\r\n                    Generate Test Data\r\n                </button>\r\n            </ButtonGroup>\r\n        );\r\n    };\r\n\r\n    generateData() {\r\n        for (let i = 0; i < 10; i++) {\r\n            this.addRowHook({\r\n                sessionTitle: uniqueNamesGenerator({\r\n                    dictionaries: [names, colors, animals],\r\n                    length: 1,\r\n                }),\r\n                room: this.state.rooms[\r\n                    Math.floor(Math.random() * Math.floor(this.state.rooms.length))\r\n                    ][\"id\"],\r\n                speaker: this.state.speakers[\r\n                    Math.floor(Math.random() * Math.floor(this.state.speakers.length))\r\n                    ][\"id\"],\r\n                timeSlot: this.state.timeSlots[\r\n                    Math.floor(Math.random() * Math.floor(this.state.timeSlots.length))\r\n                    ][\"id\"],\r\n            });\r\n        }\r\n    }\r\n\r\n    createCustomSearchField = () => {\r\n        return (\r\n            <SearchField\r\n                className=\"search-field\"\r\n                style={{height: 40, fontSize: 15}}\r\n            />\r\n        );\r\n    };\r\n\r\n    customRoomField = (column, attr, editorClass, ignoreEditable) => {\r\n        return (\r\n            <select className={`${editorClass}`} {...attr}>\r\n                <option key={null} value={null} selected>\r\n                    Please Choose a Room...\r\n                </option>\r\n                {orderBy(this.state.rooms, \"name\").map((room) => (\r\n                    <option key={room[\"name\"]} value={room[\"id\"]}>\r\n                        {room[\"name\"]}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    };\r\n\r\n    customSpeakerField = (column, attr, editorClass, ignoreEditable) => {\r\n        return (\r\n            <select className={`${editorClass}`} {...attr}>\r\n                <option key={null} value={null} selected>\r\n                    Please Choose a Speaker...\r\n                </option>\r\n                {orderBy(this.state.speakers, \"speakerName\").map((speaker) => (\r\n                    <option key={speaker[\"email\"]} value={speaker[\"id\"]}>\r\n                        {speaker[\"speakerName\"]}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    };\r\n\r\n    customTimeSlotField = (column, attr, editorClass, ignoreEditable) => {\r\n        return (\r\n            <select className={`${editorClass}`} {...attr}>\r\n                <option key={null} value={null} selected>\r\n                    Please Choose a TimeSlot...\r\n                </option>\r\n                {orderBy(this.state.timeSlots, \"startTime\").map((timeSlot) => (\r\n                    <option\r\n                        key={timeSlot[\"startTime\"] + \" - \" + timeSlot[\"endTime\"]}\r\n                        value={timeSlot[\"id\"]}\r\n                    >\r\n                        {this.dateFormatter(timeSlot[\"startTime\"]) +\r\n                        \" - \" +\r\n                        this.dateFormatter(timeSlot[\"endTime\"])}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    };\r\n\r\n    tableProps = {\r\n        onAddRow: this.addRowHook.bind(this),\r\n        onDeleteRow: this.deleteRowHook.bind(this),\r\n        insertBtn: this.createCustomInsertButton,\r\n        deleteBtn: this.createCustomDeleteButton,\r\n        insertModalHeader: this.createCustomModalHeader,\r\n        insertModalFooter: this.createCustomModalFooter,\r\n        btnGroup: this.createCustomButtonGroup,\r\n        searchField: this.createCustomSearchField,\r\n        clearSearch: true,\r\n        handleConfirmDeleteRow: this.onConfirmDeleteRow.bind(this),\r\n    };\r\n\r\n    cellEditProps = {\r\n        mode: \"click\",\r\n        blurToSave: true,\r\n        beforeSaveCell: this.beforeSaveHook.bind(this),\r\n    };\r\n\r\n    createDropDownEditor = (onUpdate, props) => (\r\n        <DropDownEditor onUpdate={onUpdate} {...props} />\r\n    );\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h3>Sessions</h3>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <BootstrapTable\r\n                        hover\r\n                        condensed\r\n                        data={this.state.data}\r\n                        search\r\n                        version=\"4\"\r\n                        insertRow\r\n                        deleteRow\r\n                        selectRow={{mode: \"checkbox\"}}\r\n                        options={this.tableProps}\r\n                        cellEdit={this.state.editMode ? this.cellEditProps : {}}\r\n                    >\r\n                        <TableHeaderColumn\r\n                            hidden\r\n                            hiddenOninsert\r\n                            autoValue\r\n                            isKey\r\n                            dataField=\"id\"\r\n                        >\r\n                            id\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn\r\n                            dataField=\"sessionTitle\"\r\n                            editable={{validator: this.cannotBeEmptyValidator}}\r\n                            dataSort={true}\r\n                        >\r\n                            Session Title\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn\r\n                            dataField=\"room\"\r\n                            dataFormat={this.roomFormatter}\r\n                            editable={{\r\n                                type: \"select\",\r\n                                options: {values: this.state.rooms},\r\n                            }}\r\n                            customEditor={{\r\n                                getElement: this.createDropDownEditor,\r\n                                customEditorParameters: {\r\n                                    data: orderBy(this.state.rooms, \"name\"),\r\n                                    getDisplayName: (room) => room[\"name\"],\r\n                                },\r\n                            }}\r\n                            customInsertEditor={{getElement: this.customRoomField}}\r\n                            dataSort={true}\r\n                        >\r\n                            Room\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn\r\n                            dataField=\"speaker\"\r\n                            dataFormat={this.speakerFormatter}\r\n                            editable={{\r\n                                type: \"select\",\r\n                                options: {values: this.state.speakers},\r\n                            }}\r\n                            customEditor={{\r\n                                getElement: this.createDropDownEditor,\r\n                                customEditorParameters: {\r\n                                    data: orderBy(this.state.speakers, \"speakerName\"),\r\n                                    getDisplayName: (speaker) => speaker[\"speakerName\"],\r\n                                },\r\n                            }}\r\n                            customInsertEditor={{getElement: this.customSpeakerField}}\r\n                            dataSort={true}\r\n                        >\r\n                            Speaker\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn\r\n                            dataField=\"timeSlot\"\r\n                            dataFormat={this.timeSlotFormatter.bind(this)}\r\n                            customEditor={{\r\n                                getElement: this.createDropDownEditor,\r\n                                customEditorParameters: {\r\n                                    data: orderBy(this.state.timeSlots, \"startTime\"),\r\n                                    getDisplayName: (timeSlot) =>\r\n                                        this.dateFormatter(timeSlot[\"startTime\"]) +\r\n                                        \" - \" +\r\n                                        this.dateFormatter(timeSlot[\"endTime\"]),\r\n                                },\r\n                            }}\r\n                            customInsertEditor={{getElement: this.customTimeSlotField}}\r\n                            dataSort={true}\r\n                        >\r\n                            Time Slot\r\n                        </TableHeaderColumn>\r\n                    </BootstrapTable>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Sessions;\r\n"]},"metadata":{},"sourceType":"module"}