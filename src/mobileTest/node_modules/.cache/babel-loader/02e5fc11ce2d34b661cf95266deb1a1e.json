{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import{BootstrapTable,ButtonGroup,DeleteButton,InsertButton,InsertModalFooter,InsertModalHeader,SearchField,TableHeaderColumn}from\"react-bootstrap-table\";import\"../../../node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css\";import $ from\"jquery\";import Alert from\"react-s-alert\";import DropDownEditor from\"./DropDownEditor\";var Sessions=/*#__PURE__*/function(_React$Component){_inherits(Sessions,_React$Component);var _super=_createSuper(Sessions);function Sessions(_props){var _this;_classCallCheck(this,Sessions);_this=_super.call(this,_props);_this.createCustomInsertButton=function(){return/*#__PURE__*/React.createElement(InsertButton,{btnText:\"Insert Session\",btnContextual:\"btn-success\",className:\"add-btn\"});};_this.createCustomDeleteButton=function(){return/*#__PURE__*/React.createElement(DeleteButton,{btnText:\"Delete Session\",btnContextual:\"btn-danger\",className:\"delete-btn\"});};_this.createCustomModalHeader=function(){return/*#__PURE__*/React.createElement(InsertModalHeader,{className:\"modal-header\",title:\"Add Session\"});};_this.createCustomModalFooter=function(closeModal){return/*#__PURE__*/React.createElement(InsertModalFooter,{className:\"modal-footer\",closeBtnContextual:\"btn-light\",saveBtnContextual:\"btn-success\",closeBtnClass:\"modal-close-btn\",saveBtnClass:\"modal-save-btn\",onModalClose:function onModalClose(){return _this.handleModalClose(closeModal);}});};_this.createCustomButtonGroup=function(props){return/*#__PURE__*/React.createElement(ButtonGroup,{sizeClass:\"btn-group-md\"},props.showSelectedOnlyBtn,props.insertBtn,props.deleteBtn,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-info edit-mode-btn\",onClick:function onClick(){return _this.setState({editMode:!_this.state.editMode});}},_this.state.editMode?\"Exit Edit Mode\":\"Edit Mode\"),_this.state.deletedRows.length>0?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-warning undo-btn\",onClick:_this.onUndo.bind(_assertThisInitialized(_this))},\"Undo Delete\"):null);};_this.createCustomSearchField=function(){return/*#__PURE__*/React.createElement(SearchField,{className:\"search-field\",style:{height:40,fontSize:15}});};_this.customRoomField=function(column,attr,editorClass,ignoreEditable){return/*#__PURE__*/React.createElement(\"select\",Object.assign({className:\"\".concat(editorClass)},attr),/*#__PURE__*/React.createElement(\"option\",{key:null,value:null,selected:true},\"Please Choose a Room...\"),_this.state.rooms.map(function(room){return/*#__PURE__*/React.createElement(\"option\",{key:room[\"name\"],value:room[\"id\"]},room[\"name\"]);}));};_this.customSpeakerField=function(column,attr,editorClass,ignoreEditable){return/*#__PURE__*/React.createElement(\"select\",Object.assign({className:\"\".concat(editorClass)},attr),/*#__PURE__*/React.createElement(\"option\",{key:null,value:null,selected:true},\"Please Choose a Speaker...\"),_this.state.speakers.map(function(speaker){return/*#__PURE__*/React.createElement(\"option\",{key:speaker[\"email\"],value:speaker[\"id\"]},speaker[\"speakerName\"]);}));};_this.customTimeSlotField=function(column,attr,editorClass,ignoreEditable){return/*#__PURE__*/React.createElement(\"select\",Object.assign({className:\"\".concat(editorClass)},attr),/*#__PURE__*/React.createElement(\"option\",{key:null,value:null,selected:true},\"Please Choose a TimeSlot...\"),_this.state.timeSlots.map(function(timeSlot){return/*#__PURE__*/React.createElement(\"option\",{key:timeSlot[\"startTime\"]+\" - \"+timeSlot[\"endTime\"],value:timeSlot[\"id\"]},timeSlot[\"startTime\"]+\" - \"+timeSlot[\"endTime\"]);}));};_this.tableProps={onAddRow:_this.addRowHook.bind(_assertThisInitialized(_this)),onDeleteRow:_this.deleteRowHook.bind(_assertThisInitialized(_this)),insertBtn:_this.createCustomInsertButton,deleteBtn:_this.createCustomDeleteButton,insertModalHeader:_this.createCustomModalHeader,insertModalFooter:_this.createCustomModalFooter,btnGroup:_this.createCustomButtonGroup,searchField:_this.createCustomSearchField,clearSearch:true,handleConfirmDeleteRow:_this.onConfirmDeleteRow.bind(_assertThisInitialized(_this))};_this.cellEditProps={mode:\"click\",blurToSave:true,beforeSaveCell:_this.beforeSaveHook.bind(_assertThisInitialized(_this))};_this.createDropDownEditor=function(onUpdate,props){return/*#__PURE__*/React.createElement(DropDownEditor,Object.assign({onUpdate:onUpdate},props));};_this.getData();_this.state={data:[],editMode:false,deletedRows:[],rooms:[],speakers:[],timeSlots:[]};return _this;}_createClass(Sessions,[{key:\"getData\",value:function getData(){var _this2=this;$.ajax({method:\"GET\",url:\"/Session/all\",type:\"json\",contentType:\"application/json\",success:function success(response){_this2.setState({data:response});}}).catch(function(xhr,status,error){Alert.error(\"Unable to load session table data.\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});this.setState({data:[]});});$.ajax({method:\"GET\",url:\"/Room/all\",type:\"json\",contentType:\"application/json\",success:function success(response){_this2.setState({rooms:response});}}).catch(function(xhr,status,error){Alert.error(\"Unable to load room table data.\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});this.setState({rooms:[]});});$.ajax({method:\"GET\",url:\"/Speaker/all\",type:\"json\",contentType:\"application/json\",success:function success(response){_this2.setState({speakers:response});}}).catch(function(xhr,status,error){Alert.error(\"Unable to load speaker table data.\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});this.setState({speakers:[]});});$.ajax({method:\"GET\",url:\"/TimeSlot/all\",type:\"json\",contentType:\"application/json\",success:function success(response){_this2.setState({timeSlots:response});}}).catch(function(xhr,status,error){Alert.error(\"Unable to load time slot table data.\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});this.setState({timeSlots:[]});});}},{key:\"addRowHook\",value:function addRowHook(row){// Clear our the id field since the backend will auto generate one for us\nrow.id=null;row.isNew=true;row.room=this.state.rooms.find(function(room){return room[\"id\"]===row.room;})||null;row.speaker=this.state.speakers.find(function(speaker){return speaker[\"id\"]===row.speaker;})||null;row.timeSlot=this.state.timeSlots.find(function(timeSlot){return timeSlot[\"id\"]===row.timeSlot;})||null;this.addRowAjaxCall(row);}// We use this call here when we do not want to delete the row id\n},{key:\"addRowAjaxCall\",value:function addRowAjaxCall(row){var _this3=this;var data=this.state.data;$.ajax({method:\"POST\",url:\"/Session/saveSession\",data:JSON.stringify(row),type:\"json\",contentType:\"application/json\",success:function success(response){data.push(response);_this3.setState({data:data});Alert.success(\"Session added.\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});}}).catch(function(xhr,status,error){Alert.error(\"Error saving row.\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});});}},{key:\"deleteRowHook\",value:function deleteRowHook(rowIdsToDelete){var _this4=this;var data=this.state.data;var rowsToDelete=data.filter(function(row){return rowIdsToDelete.includes(row.id);});var currentDeletedRows=this.state.deletedRows;currentDeletedRows.push(rowsToDelete);this.setState({deletedRows:currentDeletedRows});$.ajax({method:\"POST\",url:\"/Session/deleteSession\",data:JSON.stringify(rowIdsToDelete),type:\"json\",contentType:\"application/json\",success:function success(response){_this4.setState({data:data.filter(function(row){return!rowIdsToDelete.includes(row.id);})});Alert.success(\"Row(s) deleted.\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});}}).catch(function(xhr,status,error){Alert.error(\"Error deleting row(s).\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});});}},{key:\"beforeSaveHook\",value:function beforeSaveHook(row,cellName,cellValue,done){var mockRow=_objectSpread({},row);mockRow[cellName]=!!cellValue?cellValue:null;// if nothing changes then void backend call\nif(row[cellName]===mockRow[cellName]){return true;}$.ajax({method:\"POST\",url:\"/Session/saveSession\",data:JSON.stringify(mockRow),type:\"json\",contentType:\"application/json\",success:function success(response){Alert.success(\"Row updated.\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});done(true);}}).catch(function(xhr,status,error){Alert.error(\"Error saving row.\",{position:\"top-right\",effect:\"stackslide\",timeout:2000});done(false);});return 1;}},{key:\"onConfirmDeleteRow\",value:function onConfirmDeleteRow(next,dropRowKeys){next();}},{key:\"onUndo\",value:function onUndo(){var _this5=this;// When we undo, add back the deleted rows\nvar deletedRows=this.state.deletedRows.pop();deletedRows.forEach(function(row){return _this5.addRowAjaxCall(row);});}},{key:\"cannotBeEmptyValidator\",value:function cannotBeEmptyValidator(value,row){var response={isValid:true,notification:{type:\"success\",msg:\"\",title:\"\"}};if(!value){response.isValid=false;response.notification.type=\"error\";response.notification.msg=\"Value must be inserted\";response.notification.title=\"Requested Value\";}return response;}},{key:\"roomFormatter\",value:function roomFormatter(value){return!!value?value[\"name\"]:\"\";}},{key:\"speakerFormatter\",value:function speakerFormatter(value){return!!value?value[\"speakerName\"]:\"\";}},{key:\"timeSlotFormatter\",value:function timeSlotFormatter(value){return!!value?value[\"startTime\"]+\" - \"+value[\"endTime\"]:\"\";}},{key:\"handleModalClose\",value:function handleModalClose(closeModal){closeModal();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Sessions\"))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BootstrapTable,{hover:true,condensed:true,data:this.state.data,search:true,version:\"4\",insertRow:true,deleteRow:true,selectRow:{mode:\"checkbox\"},options:this.tableProps,cellEdit:this.state.editMode?this.cellEditProps:{}},/*#__PURE__*/React.createElement(TableHeaderColumn,{hidden:true,hiddenOninsert:true,autoValue:true,isKey:true,dataField:\"id\"},\"id\"),/*#__PURE__*/React.createElement(TableHeaderColumn,{dataField:\"sessionTitle\",editable:{validator:this.cannotBeEmptyValidator},dataSort:true},\"Session Title\"),/*#__PURE__*/React.createElement(TableHeaderColumn,{dataField:\"room\",dataFormat:this.roomFormatter,editable:{type:\"select\",options:{values:this.state.rooms}},customEditor:{getElement:this.createDropDownEditor,customEditorParameters:{data:this.state.rooms,getDisplayName:function getDisplayName(room){return room[\"name\"];}}},customInsertEditor:{getElement:this.customRoomField},dataSort:true},\"Room\"),/*#__PURE__*/React.createElement(TableHeaderColumn,{dataField:\"speaker\",dataFormat:this.speakerFormatter,editable:{type:\"select\",options:{values:this.state.speakers}},customEditor:{getElement:this.createDropDownEditor,customEditorParameters:{data:this.state.speakers,getDisplayName:function getDisplayName(speaker){return speaker[\"speakerName\"];}}},customInsertEditor:{getElement:this.customSpeakerField},dataSort:true},\"Speaker\"),/*#__PURE__*/React.createElement(TableHeaderColumn,{dataField:\"timeSlot\",dataFormat:this.timeSlotFormatter,customEditor:{getElement:this.createDropDownEditor,customEditorParameters:{data:this.state.timeSlots,getDisplayName:function getDisplayName(timeSlot){return timeSlot[\"startTime\"]+\" - \"+timeSlot[\"endTime\"];}}},customInsertEditor:{getElement:this.customTimeSlotField},dataSort:true},\"Time Slot\"))));}}]);return Sessions;}(React.Component);export default Sessions;","map":{"version":3,"sources":["C:/Users/wangm1/comp4960-section1-black-team/comp4960-section1-black-team/src/client/src/pages/sessions/Sessions.js"],"names":["React","BootstrapTable","ButtonGroup","DeleteButton","InsertButton","InsertModalFooter","InsertModalHeader","SearchField","TableHeaderColumn","$","Alert","DropDownEditor","Sessions","props","createCustomInsertButton","createCustomDeleteButton","createCustomModalHeader","createCustomModalFooter","closeModal","handleModalClose","createCustomButtonGroup","showSelectedOnlyBtn","insertBtn","deleteBtn","setState","editMode","state","deletedRows","length","onUndo","bind","createCustomSearchField","height","fontSize","customRoomField","column","attr","editorClass","ignoreEditable","rooms","map","room","customSpeakerField","speakers","speaker","customTimeSlotField","timeSlots","timeSlot","tableProps","onAddRow","addRowHook","onDeleteRow","deleteRowHook","insertModalHeader","insertModalFooter","btnGroup","searchField","clearSearch","handleConfirmDeleteRow","onConfirmDeleteRow","cellEditProps","mode","blurToSave","beforeSaveCell","beforeSaveHook","createDropDownEditor","onUpdate","getData","data","ajax","method","url","type","contentType","success","response","catch","xhr","status","error","position","effect","timeout","row","id","isNew","find","addRowAjaxCall","JSON","stringify","push","rowIdsToDelete","rowsToDelete","filter","includes","currentDeletedRows","cellName","cellValue","done","mockRow","next","dropRowKeys","pop","forEach","value","isValid","notification","msg","title","validator","cannotBeEmptyValidator","roomFormatter","options","values","getElement","customEditorParameters","getDisplayName","speakerFormatter","timeSlotFormatter","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n    BootstrapTable,\r\n    ButtonGroup,\r\n    DeleteButton,\r\n    InsertButton,\r\n    InsertModalFooter,\r\n    InsertModalHeader,\r\n    SearchField,\r\n    TableHeaderColumn,\r\n} from \"react-bootstrap-table\";\r\nimport \"../../../node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css\";\r\nimport $ from \"jquery\";\r\nimport Alert from \"react-s-alert\";\r\nimport DropDownEditor from \"./DropDownEditor\";\r\n\r\nclass Sessions extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getData();\r\n        this.state = {\r\n            data: [],\r\n            editMode: false,\r\n            deletedRows: [],\r\n            rooms: [],\r\n            speakers: [],\r\n            timeSlots: [],\r\n        };\r\n    }\r\n\r\n    getData() {\r\n        $.ajax({\r\n            method: \"GET\",\r\n            url: \"/Session/all\",\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    data: response,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Unable to load session table data.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n\r\n            this.setState({\r\n                data: [],\r\n            });\r\n        });\r\n        $.ajax({\r\n            method: \"GET\",\r\n            url: \"/Room/all\",\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    rooms: response,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Unable to load room table data.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n\r\n            this.setState({\r\n                rooms: [],\r\n            });\r\n        });\r\n        $.ajax({\r\n            method: \"GET\",\r\n            url: \"/Speaker/all\",\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    speakers: response,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Unable to load speaker table data.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n\r\n            this.setState({\r\n                speakers: [],\r\n            });\r\n        });\r\n        $.ajax({\r\n            method: \"GET\",\r\n            url: \"/TimeSlot/all\",\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    timeSlots: response,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Unable to load time slot table data.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n\r\n            this.setState({\r\n                timeSlots: [],\r\n            });\r\n        });\r\n    }\r\n\r\n    addRowHook(row) {\r\n        // Clear our the id field since the backend will auto generate one for us\r\n        row.id = null;\r\n        row.isNew = true;\r\n\r\n        row.room = this.state.rooms.find((room) => room[\"id\"] === row.room) || null;\r\n        row.speaker =\r\n            this.state.speakers.find((speaker) => speaker[\"id\"] === row.speaker) ||\r\n            null;\r\n        row.timeSlot =\r\n            this.state.timeSlots.find(\r\n                (timeSlot) => timeSlot[\"id\"] === row.timeSlot\r\n            ) || null;\r\n\r\n        this.addRowAjaxCall(row);\r\n    }\r\n\r\n    // We use this call here when we do not want to delete the row id\r\n    addRowAjaxCall(row) {\r\n        const data = this.state.data;\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/Session/saveSession\",\r\n            data: JSON.stringify(row),\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                data.push(response);\r\n                this.setState({\r\n                    data: data,\r\n                });\r\n                Alert.success(\"Session added.\", {\r\n                    position: \"top-right\",\r\n                    effect: \"stackslide\",\r\n                    timeout: 2000,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Error saving row.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n        });\r\n    }\r\n\r\n    deleteRowHook(rowIdsToDelete) {\r\n        const data = this.state.data;\r\n        const rowsToDelete = data.filter((row) => rowIdsToDelete.includes(row.id));\r\n\r\n        const currentDeletedRows = this.state.deletedRows;\r\n        currentDeletedRows.push(rowsToDelete);\r\n\r\n        this.setState({deletedRows: currentDeletedRows});\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/Session/deleteSession\",\r\n            data: JSON.stringify(rowIdsToDelete),\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    data: data.filter((row) => !rowIdsToDelete.includes(row.id)),\r\n                });\r\n\r\n                Alert.success(\"Row(s) deleted.\", {\r\n                    position: \"top-right\",\r\n                    effect: \"stackslide\",\r\n                    timeout: 2000,\r\n                });\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Error deleting row(s).\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n        });\r\n    }\r\n\r\n    beforeSaveHook(row, cellName, cellValue, done) {\r\n        let mockRow = {...row};\r\n        mockRow[cellName] = !!cellValue ? cellValue : null;\r\n\r\n        // if nothing changes then void backend call\r\n        if (row[cellName] === mockRow[cellName]) {\r\n            return true;\r\n        }\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/Session/saveSession\",\r\n            data: JSON.stringify(mockRow),\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                Alert.success(\"Row updated.\", {\r\n                    position: \"top-right\",\r\n                    effect: \"stackslide\",\r\n                    timeout: 2000,\r\n                });\r\n                done(true);\r\n            },\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Error saving row.\", {\r\n                position: \"top-right\",\r\n                effect: \"stackslide\",\r\n                timeout: 2000,\r\n            });\r\n            done(false);\r\n        });\r\n\r\n        return 1;\r\n    }\r\n\r\n    onConfirmDeleteRow(next, dropRowKeys) {\r\n        next();\r\n    }\r\n\r\n    onUndo() {\r\n        // When we undo, add back the deleted rows\r\n        const deletedRows = this.state.deletedRows.pop();\r\n        deletedRows.forEach((row) => this.addRowAjaxCall(row));\r\n    }\r\n\r\n    cannotBeEmptyValidator(value, row) {\r\n        const response = {\r\n            isValid: true,\r\n            notification: {type: \"success\", msg: \"\", title: \"\"},\r\n        };\r\n        if (!value) {\r\n            response.isValid = false;\r\n            response.notification.type = \"error\";\r\n            response.notification.msg = \"Value must be inserted\";\r\n            response.notification.title = \"Requested Value\";\r\n        }\r\n        return response;\r\n    }\r\n\r\n    roomFormatter(value) {\r\n        return !!value ? value[\"name\"] : \"\";\r\n    }\r\n\r\n    speakerFormatter(value) {\r\n        return !!value ? value[\"speakerName\"] : \"\";\r\n    }\r\n\r\n    timeSlotFormatter(value) {\r\n        return !!value ? value[\"startTime\"] + \" - \" + value[\"endTime\"] : \"\";\r\n    }\r\n\r\n    createCustomInsertButton = () => {\r\n        return (\r\n            <InsertButton\r\n                btnText=\"Insert Session\"\r\n                btnContextual=\"btn-success\"\r\n                className=\"add-btn\"\r\n            />\r\n        );\r\n    };\r\n\r\n    createCustomDeleteButton = () => {\r\n        return (\r\n            <DeleteButton\r\n                btnText=\"Delete Session\"\r\n                btnContextual=\"btn-danger\"\r\n                className=\"delete-btn\"\r\n            />\r\n        );\r\n    };\r\n\r\n    createCustomModalHeader = () => {\r\n        return <InsertModalHeader className=\"modal-header\" title=\"Add Session\"/>;\r\n    };\r\n\r\n    handleModalClose(closeModal) {\r\n        closeModal();\r\n    }\r\n\r\n    createCustomModalFooter = (closeModal) => {\r\n        return (\r\n            <InsertModalFooter\r\n                className=\"modal-footer\"\r\n                closeBtnContextual=\"btn-light\"\r\n                saveBtnContextual=\"btn-success\"\r\n                closeBtnClass=\"modal-close-btn\"\r\n                saveBtnClass=\"modal-save-btn\"\r\n                onModalClose={() => this.handleModalClose(closeModal)}\r\n            />\r\n        );\r\n    };\r\n\r\n    createCustomButtonGroup = (props) => {\r\n        return (\r\n            <ButtonGroup sizeClass=\"btn-group-md\">\r\n                {props.showSelectedOnlyBtn}\r\n                {props.insertBtn}\r\n                {props.deleteBtn}\r\n                <button\r\n                    type=\"button\"\r\n                    className={`btn btn-info edit-mode-btn`}\r\n                    onClick={() => this.setState({editMode: !this.state.editMode})}\r\n                >\r\n                    {this.state.editMode ? \"Exit Edit Mode\" : \"Edit Mode\"}\r\n                </button>\r\n                {this.state.deletedRows.length > 0 ? (\r\n                    <button\r\n                        type=\"button\"\r\n                        className={`btn btn-warning undo-btn`}\r\n                        onClick={this.onUndo.bind(this)}\r\n                    >\r\n                        Undo Delete\r\n                    </button>\r\n                ) : null}\r\n            </ButtonGroup>\r\n        );\r\n    };\r\n\r\n    createCustomSearchField = () => {\r\n        return (\r\n            <SearchField\r\n                className=\"search-field\"\r\n                style={{height: 40, fontSize: 15}}\r\n            />\r\n        );\r\n    };\r\n\r\n    customRoomField = (column, attr, editorClass, ignoreEditable) => {\r\n        return (\r\n            <select className={`${editorClass}`} {...attr}>\r\n                <option key={null} value={null} selected>\r\n                    Please Choose a Room...\r\n                </option>\r\n                {this.state.rooms.map((room) => (\r\n                    <option key={room[\"name\"]} value={room[\"id\"]}>\r\n                        {room[\"name\"]}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    };\r\n\r\n    customSpeakerField = (column, attr, editorClass, ignoreEditable) => {\r\n        return (\r\n            <select className={`${editorClass}`} {...attr}>\r\n                <option key={null} value={null} selected>\r\n                    Please Choose a Speaker...\r\n                </option>\r\n                {this.state.speakers.map((speaker) => (\r\n                    <option key={speaker[\"email\"]} value={speaker[\"id\"]}>\r\n                        {speaker[\"speakerName\"]}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    };\r\n\r\n    customTimeSlotField = (column, attr, editorClass, ignoreEditable) => {\r\n        return (\r\n            <select className={`${editorClass}`} {...attr}>\r\n                <option key={null} value={null} selected>\r\n                    Please Choose a TimeSlot...\r\n                </option>\r\n                {this.state.timeSlots.map((timeSlot) => (\r\n                    <option\r\n                        key={timeSlot[\"startTime\"] + \" - \" + timeSlot[\"endTime\"]}\r\n                        value={timeSlot[\"id\"]}\r\n                    >\r\n                        {timeSlot[\"startTime\"] + \" - \" + timeSlot[\"endTime\"]}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    };\r\n\r\n    tableProps = {\r\n        onAddRow: this.addRowHook.bind(this),\r\n        onDeleteRow: this.deleteRowHook.bind(this),\r\n        insertBtn: this.createCustomInsertButton,\r\n        deleteBtn: this.createCustomDeleteButton,\r\n        insertModalHeader: this.createCustomModalHeader,\r\n        insertModalFooter: this.createCustomModalFooter,\r\n        btnGroup: this.createCustomButtonGroup,\r\n        searchField: this.createCustomSearchField,\r\n        clearSearch: true,\r\n        handleConfirmDeleteRow: this.onConfirmDeleteRow.bind(this),\r\n    };\r\n\r\n    cellEditProps = {\r\n        mode: \"click\",\r\n        blurToSave: true,\r\n        beforeSaveCell: this.beforeSaveHook.bind(this),\r\n    };\r\n\r\n    createDropDownEditor = (onUpdate, props) => (\r\n        <DropDownEditor onUpdate={onUpdate} {...props} />\r\n    );\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h3>Sessions</h3>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <BootstrapTable\r\n                        hover\r\n                        condensed\r\n                        data={this.state.data}\r\n                        search\r\n                        version=\"4\"\r\n                        insertRow\r\n                        deleteRow\r\n                        selectRow={{mode: \"checkbox\"}}\r\n                        options={this.tableProps}\r\n                        cellEdit={this.state.editMode ? this.cellEditProps : {}}\r\n                    >\r\n                        <TableHeaderColumn\r\n                            hidden\r\n                            hiddenOninsert\r\n                            autoValue\r\n                            isKey\r\n                            dataField=\"id\"\r\n                        >\r\n                            id\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn\r\n                            dataField=\"sessionTitle\"\r\n                            editable={{validator: this.cannotBeEmptyValidator}}\r\n                            dataSort={true}\r\n                        >\r\n                            Session Title\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn\r\n                            dataField=\"room\"\r\n                            dataFormat={this.roomFormatter}\r\n                            editable={{\r\n                                type: \"select\",\r\n                                options: {values: this.state.rooms},\r\n                            }}\r\n                            customEditor={{\r\n                                getElement: this.createDropDownEditor,\r\n                                customEditorParameters: {\r\n                                    data: this.state.rooms,\r\n                                    getDisplayName: (room) =>\r\n                                        room[\"name\"]\r\n                                },\r\n                            }}\r\n                            customInsertEditor={{getElement: this.customRoomField}}\r\n                            dataSort={true}\r\n                        >\r\n                            Room\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn\r\n                            dataField=\"speaker\"\r\n                            dataFormat={this.speakerFormatter}\r\n                            editable={{\r\n                                type: \"select\",\r\n                                options: {values: this.state.speakers},\r\n                            }}\r\n                            customEditor={{\r\n                                getElement: this.createDropDownEditor,\r\n                                customEditorParameters: {\r\n                                    data: this.state.speakers,\r\n                                    getDisplayName: (speaker) =>\r\n                                        speaker[\"speakerName\"],\r\n                                },\r\n                            }}\r\n                            customInsertEditor={{getElement: this.customSpeakerField}}\r\n                            dataSort={true}\r\n                        >\r\n                            Speaker\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn\r\n                            dataField=\"timeSlot\"\r\n                            dataFormat={this.timeSlotFormatter}\r\n                            customEditor={{\r\n                                getElement: this.createDropDownEditor,\r\n                                customEditorParameters: {\r\n                                    data: this.state.timeSlots,\r\n                                    getDisplayName: (timeSlot) =>\r\n                                        timeSlot[\"startTime\"] + \" - \" + timeSlot[\"endTime\"],\r\n                                },\r\n                            }}\r\n                            customInsertEditor={{getElement: this.customTimeSlotField}}\r\n                            dataSort={true}\r\n                        >\r\n                            Time Slot\r\n                        </TableHeaderColumn>\r\n                    </BootstrapTable>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Sessions;\r\n"]},"metadata":{},"sourceType":"module"}