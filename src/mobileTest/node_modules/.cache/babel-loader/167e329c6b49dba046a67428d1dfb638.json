{"ast":null,"code":"import _objectSpread from\"c:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"c:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"c:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"c:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"c:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"c:\\\\Users\\\\wangm1\\\\comp4960-section1-black-team\\\\comp4960-section1-black-team\\\\src\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{BootstrapTable,ButtonGroup,DeleteButton,InsertButton,InsertModalFooter,InsertModalHeader,SearchField,TableHeaderColumn}from'react-bootstrap-table';import'../../../node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css';import $ from'jquery';import Alert from'react-s-alert';import TimeEditor from\"../calendar/TimeEditor\";import TimeInputField from\"./TimeInputField\";var TimeSlots=/*#__PURE__*/function(_React$Component){_inherits(TimeSlots,_React$Component);var _super=_createSuper(TimeSlots);function TimeSlots(_props){var _this;_classCallCheck(this,TimeSlots);_this=_super.call(this,_props);_this.createCustomInsertButton=function(){return/*#__PURE__*/React.createElement(InsertButton,{btnText:\"Insert TimeSlot\",btnContextual:\"btn-success\",className:\"add-btn\"});};_this.createCustomDeleteButton=function(){return/*#__PURE__*/React.createElement(DeleteButton,{btnText:\"Delete TimeSlot\",btnContextual:\"btn-danger\",className:\"delete-btn\"});};_this.createCustomModalHeader=function(){return/*#__PURE__*/React.createElement(InsertModalHeader,{className:\"modal-header\",title:\"Add TimeSlot\"});};_this.createCustomModalFooter=function(closeModal){return/*#__PURE__*/React.createElement(InsertModalFooter,{className:\"modal-footer\",closeBtnContextual:\"btn-light\",saveBtnContextual:\"btn-success\",closeBtnClass:\"modal-close-btn\",saveBtnClass:\"modal-save-btn\",onModalClose:function onModalClose(){return _this.handleModalClose(closeModal);}});};_this.createCustomButtonGroup=function(props){return/*#__PURE__*/React.createElement(ButtonGroup,{sizeClass:\"btn-group-md\"},props.showSelectedOnlyBtn,props.insertBtn,props.deleteBtn,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-info edit-mode-btn\",onClick:function onClick(){return _this.setState({editMode:!_this.state.editMode});}},_this.state.editMode?\"Exit Edit Mode\":\"Edit Mode\"),_this.state.deletedRows.length>0?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-warning undo-btn\",onClick:_this.onUndo.bind(_assertThisInitialized(_this))},\"Undo Delete\"):null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-info edit-mode-btn\",onClick:_this.generateData.bind(_assertThisInitialized(_this))},\"Generate Test Data\"));};_this.createCustomSearchField=function(){return/*#__PURE__*/React.createElement(SearchField,{className:\"search-field\",style:{height:40,fontSize:15}});};_this.tableProps={onAddRow:_this.addRowHook.bind(_assertThisInitialized(_this)),onDeleteRow:_this.deleteRowHook.bind(_assertThisInitialized(_this)),insertBtn:_this.createCustomInsertButton,deleteBtn:_this.createCustomDeleteButton,insertModalHeader:_this.createCustomModalHeader,insertModalFooter:_this.createCustomModalFooter,btnGroup:_this.createCustomButtonGroup,searchField:_this.createCustomSearchField,clearSearch:true,handleConfirmDeleteRow:_this.onConfirmDeleteRow.bind(_assertThisInitialized(_this))};_this.cellEditProps={mode:'click',blurToSave:true,beforeSaveCell:_this.beforeSaveHook.bind(_assertThisInitialized(_this))};_this.createTimeInputField=function(column,attr,editorClass,ignoreEditable,defaultValue){return/*#__PURE__*/React.createElement(TimeInputField,{ref:attr.ref,editorClass:editorClass,defaultValue:defaultValue});};_this.createTimeEditor=function(onUpdate,props){return/*#__PURE__*/React.createElement(TimeEditor,Object.assign({onUpdate:onUpdate},props));};_this.getData();_this.state={data:[],editMode:false,deletedRows:[]};return _this;}_createClass(TimeSlots,[{key:\"getData\",value:function getData(){var _this2=this;$.ajax({method:\"GET\",url:\"/TimeSlot/all\",type:\"json\",contentType:\"application/json\",success:function success(response){_this2.setState({data:response});}}).catch(function(xhr,status,error){Alert.error('Unable to load table data.',{position:'top-right',effect:'stackslide',timeout:2000});this.setState({data:[]});});}},{key:\"addRowHook\",value:function addRowHook(row){// Clear our the id field since the backend will auto generate one for us\nrow.id=null;row.isNew=true;this.addRowAjaxCall(row);}// We use this call here when we do not want to delete the row id\n},{key:\"addRowAjaxCall\",value:function addRowAjaxCall(row){var _this3=this;var data=this.state.data;$.ajax({method:\"POST\",url:\"/TimeSlot/saveTimeSlot\",data:JSON.stringify(row),type:\"json\",contentType:\"application/json\",success:function success(response){data.push(response);_this3.setState({data:data});Alert.success(\"TimeSlot added.\",{position:'top-right',effect:'stackslide',timeout:2000});}}).catch(function(xhr,status,error){Alert.error(\"Error saving row.\",{position:'top-right',effect:'stackslide',timeout:2000});});}},{key:\"deleteRowHook\",value:function deleteRowHook(rowIdsToDelete){var _this4=this;var data=this.state.data;var rowsToDelete=data.filter(function(row){return rowIdsToDelete.includes(row.id);});var currentDeletedRows=this.state.deletedRows;currentDeletedRows.push(rowsToDelete);this.setState({deletedRows:currentDeletedRows});$.ajax({method:\"POST\",url:\"/TimeSlot/deleteTimeSlot\",data:JSON.stringify(rowIdsToDelete),type:\"json\",contentType:\"application/json\",success:function success(response){_this4.setState({data:data.filter(function(row){return!rowIdsToDelete.includes(row.id);})});Alert.success(\"Row(s) deleted.\",{position:'top-right',effect:'stackslide',timeout:2000});}}).catch(function(xhr,status,error){Alert.error(\"Error deleting row(s).\",{position:'top-right',effect:'stackslide',timeout:2000});});}},{key:\"beforeSaveHook\",value:function beforeSaveHook(row,cellName,cellValue,done){var mockRow=_objectSpread({},row);mockRow[cellName]=cellValue;if(row[cellName]===mockRow[cellName]){return true;}$.ajax({method:\"POST\",url:\"/TimeSlot/saveTimeSlot\",data:JSON.stringify(mockRow),type:\"json\",contentType:\"application/json\",success:function success(response){done(true);Alert.success(\"Row updated.\",{position:'top-right',effect:'stackslide',timeout:2000});}}).catch(function(xhr,status,error){Alert.error(\"Error saving row.\",{position:'top-right',effect:'stackslide',timeout:2000});done(false);});return 1;}},{key:\"onConfirmDeleteRow\",value:function onConfirmDeleteRow(next,dropRowKeys){next();}},{key:\"onUndo\",value:function onUndo(){var _this5=this;// When we undo, add back the deleted rows\nvar deletedRows=this.state.deletedRows.pop();deletedRows.forEach(function(row){return _this5.addRowAjaxCall(row);});}},{key:\"cannotBeEmptyValidator\",value:function cannotBeEmptyValidator(value,row){var response={isValid:true,notification:{type:'success',msg:'',title:''}};if(!value){response.isValid=false;response.notification.type='error';response.notification.msg='Value must be inserted';response.notification.title='Requested Value';}return response;}},{key:\"startTimeValidator\",value:function startTimeValidator(value,row){var response={isValid:true,notification:{type:'success',msg:'',title:''}};var startTime=value.replace(\":\",\".\").split(':')[0];var endTime=row[\"endTime\"].replace(\":\",\".\").split(':')[0];if(parseFloat(startTime)>=parseFloat(endTime)){response.isValid=false;response.notification.type='error';response.notification.msg='Start time must be before end time.';response.notification.title='Invalid Entry';}var cannotBeEmpty=this.cannotBeEmptyValidator(value,row);return cannotBeEmpty.isValid?response:cannotBeEmpty;}},{key:\"endTimeValidator\",value:function endTimeValidator(value,row){var response={isValid:true,notification:{type:'success',msg:'',title:''}};var endTime=value.replace(\":\",\".\").split(':')[0];var startTime=row[\"startTime\"].replace(\":\",\".\").split(':')[0];if(parseFloat(startTime)>=parseFloat(endTime)){response.isValid=false;response.notification.type='error';response.notification.msg='Start time must be before end time.';response.notification.title='Invalid Entry';}var cannotBeEmpty=this.cannotBeEmptyValidator(value,row);return cannotBeEmpty.isValid?response:cannotBeEmpty;}},{key:\"dateFormatter\",value:function dateFormatter(value){var isAm=true;if(!value){return value;}var result=\"\";for(var i=0;i<5;i++){result+=value[i];}if(result.charAt(0)>=1&&result.charAt(1)>=3){var tens=parseInt(result.charAt(0))*10;var ones=parseInt(result.charAt(1));var num=tens+ones;var val=num-20;var str=num.toString();isAm=false;}if(isAm){result+=\" AM\";if(result.charAt(0)==0){result=result.substring(1);}}else{result+=\" PM\";result=result.substring(1);result=result.charAt(0)-2+result.substring(1);}return result;}},{key:\"handleModalClose\",value:function handleModalClose(closeModal){closeModal();}},{key:\"generateData\",value:function generateData(){for(var i=6;i<19;i++){this.addRowHook({startTime:i+\":00:00\",endTime:i+1+\":00:00\"});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h3\",null,\"TimeSlots\"))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BootstrapTable,{hover:true,condensed:true,data:this.state.data,search:true,version:\"4\",insertRow:true,deleteRow:true,selectRow:{mode:'checkbox'},options:this.tableProps,cellEdit:this.state.editMode?this.cellEditProps:{}},/*#__PURE__*/React.createElement(TableHeaderColumn,{hidden:true,hiddenOninsert:true,autoValue:true,isKey:true,dataField:\"id\"},\"id\"),/*#__PURE__*/React.createElement(TableHeaderColumn,{dataField:\"startTime\",dataFormat:this.dateFormatter,editable:{validator:this.startTimeValidator.bind(this)},dataSort:true,customEditor:{getElement:this.createTimeEditor},customInsertEditor:{getElement:this.createTimeInputField}},\"Start Time\"),/*#__PURE__*/React.createElement(TableHeaderColumn,{dataField:\"endTime\",dataFormat:this.dateFormatter,editable:{validator:this.endTimeValidator.bind(this)},dataSort:true,customEditor:{getElement:this.createTimeEditor},customInsertEditor:{getElement:this.createTimeInputField}},\"End Time\"))));}}]);return TimeSlots;}(React.Component);export default TimeSlots;","map":{"version":3,"sources":["c:/Users/wangm1/comp4960-section1-black-team/comp4960-section1-black-team/src/client/src/pages/timeslots/Timeslots.js"],"names":["React","BootstrapTable","ButtonGroup","DeleteButton","InsertButton","InsertModalFooter","InsertModalHeader","SearchField","TableHeaderColumn","$","Alert","TimeEditor","TimeInputField","TimeSlots","props","createCustomInsertButton","createCustomDeleteButton","createCustomModalHeader","createCustomModalFooter","closeModal","handleModalClose","createCustomButtonGroup","showSelectedOnlyBtn","insertBtn","deleteBtn","setState","editMode","state","deletedRows","length","onUndo","bind","generateData","createCustomSearchField","height","fontSize","tableProps","onAddRow","addRowHook","onDeleteRow","deleteRowHook","insertModalHeader","insertModalFooter","btnGroup","searchField","clearSearch","handleConfirmDeleteRow","onConfirmDeleteRow","cellEditProps","mode","blurToSave","beforeSaveCell","beforeSaveHook","createTimeInputField","column","attr","editorClass","ignoreEditable","defaultValue","ref","createTimeEditor","onUpdate","getData","data","ajax","method","url","type","contentType","success","response","catch","xhr","status","error","position","effect","timeout","row","id","isNew","addRowAjaxCall","JSON","stringify","push","rowIdsToDelete","rowsToDelete","filter","includes","currentDeletedRows","cellName","cellValue","done","mockRow","next","dropRowKeys","pop","forEach","value","isValid","notification","msg","title","startTime","replace","split","endTime","parseFloat","cannotBeEmpty","cannotBeEmptyValidator","isAm","result","i","charAt","tens","parseInt","ones","num","val","str","toString","substring","dateFormatter","validator","startTimeValidator","getElement","endTimeValidator","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {\r\n    BootstrapTable,\r\n    ButtonGroup,\r\n    DeleteButton,\r\n    InsertButton,\r\n    InsertModalFooter,\r\n    InsertModalHeader,\r\n    SearchField,\r\n    TableHeaderColumn\r\n} from 'react-bootstrap-table';\r\nimport '../../../node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css';\r\nimport $ from 'jquery';\r\nimport Alert from 'react-s-alert';\r\nimport TimeEditor from \"../calendar/TimeEditor\";\r\nimport TimeInputField from \"./TimeInputField\";\r\n\r\nclass TimeSlots extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getData();\r\n        this.state = {\r\n            data: [],\r\n            editMode: false,\r\n            deletedRows: []\r\n        };\r\n    }\r\n\r\n    getData() {\r\n        $.ajax({\r\n            method: \"GET\",\r\n            url: \"/TimeSlot/all\",\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({\r\n                    data: response\r\n                });\r\n            }\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error('Unable to load table data.', {\r\n                position: 'top-right',\r\n                effect: 'stackslide',\r\n                timeout: 2000\r\n            });\r\n\r\n            this.setState({\r\n                data: []\r\n            });\r\n        });\r\n    }\r\n\r\n    addRowHook(row) {\r\n        // Clear our the id field since the backend will auto generate one for us\r\n        row.id = null;\r\n        row.isNew = true;\r\n        this.addRowAjaxCall(row);\r\n    }\r\n\r\n    // We use this call here when we do not want to delete the row id\r\n    addRowAjaxCall(row) {\r\n        const data = this.state.data;\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/TimeSlot/saveTimeSlot\",\r\n            data: JSON.stringify(row),\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                data.push(response);\r\n                this.setState({\r\n                    data: data\r\n                });\r\n                Alert.success(\"TimeSlot added.\", {\r\n                    position: 'top-right',\r\n                    effect: 'stackslide',\r\n                    timeout: 2000\r\n                });\r\n            }\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Error saving row.\", {\r\n                position: 'top-right',\r\n                effect: 'stackslide',\r\n                timeout: 2000\r\n            });\r\n        });\r\n    }\r\n\r\n    deleteRowHook(rowIdsToDelete) {\r\n        const data = this.state.data;\r\n        const rowsToDelete = data.filter((row) => rowIdsToDelete.includes(row.id));\r\n\r\n        const currentDeletedRows = this.state.deletedRows;\r\n        currentDeletedRows.push(rowsToDelete);\r\n\r\n        this.setState({ deletedRows: currentDeletedRows });\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/TimeSlot/deleteTimeSlot\",\r\n            data: JSON.stringify(rowIdsToDelete),\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                this.setState({ data: data.filter((row) => !rowIdsToDelete.includes(row.id)) });\r\n\r\n                Alert.success(\"Row(s) deleted.\", {\r\n                    position: 'top-right',\r\n                    effect: 'stackslide',\r\n                    timeout: 2000\r\n                });\r\n            }\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Error deleting row(s).\", {\r\n                position: 'top-right',\r\n                effect: 'stackslide',\r\n                timeout: 2000\r\n            });\r\n        });\r\n    }\r\n\r\n    beforeSaveHook(row, cellName, cellValue, done) {\r\n        let mockRow = { ...row };\r\n        mockRow[cellName] = cellValue;\r\n\r\n        if (row[cellName] === mockRow[cellName]) {\r\n            return true;\r\n        }\r\n\r\n        $.ajax({\r\n            method: \"POST\",\r\n            url: \"/TimeSlot/saveTimeSlot\",\r\n            data: JSON.stringify(mockRow),\r\n            type: \"json\",\r\n            contentType: \"application/json\",\r\n            success: (response) => {\r\n                done(true);\r\n                Alert.success(\"Row updated.\", {\r\n                    position: 'top-right',\r\n                    effect: 'stackslide',\r\n                    timeout: 2000\r\n                });\r\n            }\r\n        }).catch(function (xhr, status, error) {\r\n            Alert.error(\"Error saving row.\", {\r\n                position: 'top-right',\r\n                effect: 'stackslide',\r\n                timeout: 2000\r\n            });\r\n            done(false);\r\n        });\r\n\r\n        return 1;\r\n    }\r\n\r\n    onConfirmDeleteRow(next, dropRowKeys) {\r\n        next();\r\n    }\r\n\r\n    onUndo() {\r\n        // When we undo, add back the deleted rows\r\n        const deletedRows = this.state.deletedRows.pop();\r\n        deletedRows.forEach((row) => this.addRowAjaxCall(row));\r\n    }\r\n\r\n    cannotBeEmptyValidator(value, row) {\r\n        const response = { isValid: true, notification: { type: 'success', msg: '', title: '' } };\r\n        if (!value) {\r\n            response.isValid = false;\r\n            response.notification.type = 'error';\r\n            response.notification.msg = 'Value must be inserted';\r\n            response.notification.title = 'Requested Value';\r\n        }\r\n        return response;\r\n    }\r\n\r\n    startTimeValidator(value, row) {\r\n        const response = { isValid: true, notification: { type: 'success', msg: '', title: '' } };\r\n        const startTime = value.replace(\":\", \".\").split(':')[0];\r\n        const endTime = row[\"endTime\"].replace(\":\", \".\").split(':')[0];\r\n        if(parseFloat(startTime) >= parseFloat(endTime)) {\r\n            response.isValid = false;\r\n            response.notification.type = 'error';\r\n            response.notification.msg = 'Start time must be before end time.';\r\n            response.notification.title = 'Invalid Entry';\r\n        }\r\n\r\n        const cannotBeEmpty = this.cannotBeEmptyValidator(value, row);\r\n\r\n        return cannotBeEmpty.isValid ? response : cannotBeEmpty;\r\n    }\r\n\r\n    endTimeValidator(value, row) {\r\n        const response = { isValid: true, notification: { type: 'success', msg: '', title: '' } };\r\n        const endTime = value.replace(\":\", \".\").split(':')[0];\r\n        const startTime = row[\"startTime\"].replace(\":\", \".\").split(':')[0];\r\n        if(parseFloat(startTime) >= parseFloat(endTime)) {\r\n            response.isValid = false;\r\n            response.notification.type = 'error';\r\n            response.notification.msg = 'Start time must be before end time.';\r\n            response.notification.title = 'Invalid Entry';\r\n        }\r\n\r\n        const cannotBeEmpty = this.cannotBeEmptyValidator(value, row);\r\n\r\n        return cannotBeEmpty.isValid ? response : cannotBeEmpty;\r\n    }\r\n\r\n    dateFormatter(value) {\r\n        let isAm = true;\r\n        if(!value) {\r\n            return value;\r\n        }\r\n    \r\n        let result = \"\";\r\n        for(let i = 0; i < 5; i++) {\r\n            result += value[i];\r\n        }\r\n    \r\n        if((result.charAt(0) >= 1) && (result.charAt(1) >= 3)) {\r\n            let tens = parseInt(result.charAt(0)) * 10;\r\n            let ones = parseInt(result.charAt(1));\r\n            let num = tens + ones;\r\n            let val = num - 20;\r\n            let str = num.toString();\r\n            isAm = false;\r\n        }\r\n    \r\n        if(isAm) {\r\n            result += \" AM\";\r\n            if (result.charAt(0) == 0) {\r\n                result = result.substring(1);\r\n            }\r\n        }\r\n        else {\r\n            result += \" PM\";\r\n            result = result.substring(1);\r\n            result = result.charAt(0) - 2 + result.substring(1);\r\n        }\r\n    \r\n        return result;\r\n    }\r\n\r\n    createCustomInsertButton = () => {\r\n        return (\r\n            <InsertButton\r\n                btnText='Insert TimeSlot'\r\n                btnContextual='btn-success'\r\n                className='add-btn' />\r\n        );\r\n    };\r\n\r\n    createCustomDeleteButton = () => {\r\n        return (\r\n            <DeleteButton\r\n                btnText='Delete TimeSlot'\r\n                btnContextual='btn-danger'\r\n                className='delete-btn' />\r\n        );\r\n    };\r\n\r\n    createCustomModalHeader = () => {\r\n        return (\r\n            <InsertModalHeader\r\n                className='modal-header'\r\n                title='Add TimeSlot' />\r\n        );\r\n    };\r\n\r\n    handleModalClose(closeModal) {\r\n        closeModal();\r\n    };\r\n\r\n    createCustomModalFooter = (closeModal) => {\r\n        return (\r\n            <InsertModalFooter\r\n                className='modal-footer'\r\n                closeBtnContextual='btn-light'\r\n                saveBtnContextual='btn-success'\r\n                closeBtnClass='modal-close-btn'\r\n                saveBtnClass='modal-save-btn'\r\n                onModalClose={ () => this.handleModalClose(closeModal) }/>\r\n        );\r\n    };\r\n\r\n    createCustomButtonGroup = props => {\r\n        return (\r\n            <ButtonGroup sizeClass='btn-group-md'>\r\n                {props.showSelectedOnlyBtn}\r\n                {props.insertBtn}\r\n                {props.deleteBtn}\r\n                <button type='button'\r\n                        className={`btn btn-info edit-mode-btn`}\r\n                        onClick={() => this.setState({ editMode: !this.state.editMode })}>\r\n                    {this.state.editMode ? \"Exit Edit Mode\" : \"Edit Mode\"}\r\n                </button>\r\n                {this.state.deletedRows.length > 0 ?\r\n                    <button type='button'\r\n                            className={`btn btn-warning undo-btn`}\r\n                            onClick={this.onUndo.bind(this)}>\r\n                        Undo Delete\r\n                    </button> : null}\r\n                <button type='button'\r\n                        className={`btn btn-info edit-mode-btn`}\r\n                        onClick={this.generateData.bind(this)}>\r\n                    Generate Test Data\r\n                </button>\r\n            </ButtonGroup>\r\n        );\r\n    };\r\n\r\n    generateData(){\r\n        for(let i = 6; i < 19; i++){\r\n            this.addRowHook({\r\n                startTime: i + \":00:00\",\r\n                endTime: i+1 + \":00:00\"\r\n            })\r\n        }\r\n    }\r\n\r\n    createCustomSearchField = () => {\r\n        return (\r\n            <SearchField\r\n                className='search-field'\r\n                style={{ height: 40, fontSize: 15 }} />\r\n        );\r\n    };\r\n\r\n    tableProps = {\r\n        onAddRow: this.addRowHook.bind(this),\r\n        onDeleteRow: this.deleteRowHook.bind(this),\r\n        insertBtn: this.createCustomInsertButton,\r\n        deleteBtn: this.createCustomDeleteButton,\r\n        insertModalHeader: this.createCustomModalHeader,\r\n        insertModalFooter: this.createCustomModalFooter,\r\n        btnGroup: this.createCustomButtonGroup,\r\n        searchField: this.createCustomSearchField,\r\n        clearSearch: true,\r\n        handleConfirmDeleteRow: this.onConfirmDeleteRow.bind(this)\r\n    };\r\n\r\n    cellEditProps = {\r\n        mode: 'click',\r\n        blurToSave: true,\r\n        beforeSaveCell: this.beforeSaveHook.bind(this)\r\n    };\r\n\r\n    createTimeInputField = (column, attr, editorClass, ignoreEditable, defaultValue) => {\r\n        return (\r\n            <TimeInputField ref={attr.ref} editorClass={ editorClass } defaultValue={defaultValue}/>\r\n        );\r\n    };\r\n\r\n    createTimeEditor = (onUpdate, props) => (\r\n        <TimeEditor onUpdate = { onUpdate } { ...props } />\r\n    );\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h3>TimeSlots</h3>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <BootstrapTable hover\r\n                                    condensed\r\n                                    data={this.state.data}\r\n                                    search\r\n                                    version='4'\r\n                                    insertRow\r\n                                    deleteRow\r\n                                    selectRow={{ mode: 'checkbox' }}\r\n                                    options={this.tableProps}\r\n                                    cellEdit={this.state.editMode ? this.cellEditProps : {}}>\r\n                        <TableHeaderColumn hidden\r\n                                           hiddenOninsert\r\n                                           autoValue\r\n                                           isKey\r\n                                           dataField='id'>id</TableHeaderColumn>\r\n                        <TableHeaderColumn dataField='startTime'\r\n                                           dataFormat={this.dateFormatter}\r\n                                           editable={{ validator: this.startTimeValidator.bind(this) }}\r\n                                           dataSort={ true }\r\n                                           customEditor={{ getElement: this.createTimeEditor}}\r\n                                           customInsertEditor={ { getElement: this.createTimeInputField } }>Start Time</TableHeaderColumn>\r\n                        <TableHeaderColumn dataField='endTime'\r\n                                           dataFormat={this.dateFormatter}\r\n                                           editable={{ validator: this.endTimeValidator.bind(this) }}\r\n                                           dataSort={ true }\r\n                                           customEditor={{ getElement: this.createTimeEditor}}\r\n                                           customInsertEditor={ { getElement: this.createTimeInputField } }>End Time</TableHeaderColumn>\r\n                    </BootstrapTable>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TimeSlots\r\n"]},"metadata":{},"sourceType":"module"}